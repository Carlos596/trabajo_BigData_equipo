<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Carlos García (garpon@alumni.uv.es)">
<meta name="author" content="Vera Monteagudo (vemonse@alumni.uv.es)">
<meta name="author" content="Zayad Youssof (zayous@alumni.uv.es)">
<meta name="description" content="Análisis de datos de las diferentes plataformas online">
<title>Plataformas audiovisuales - Estudio de las plataformas audiovisuales</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./netflixx.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": true,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<style>
    .quarto-title-block .quarto-title-banner {
      color: red;
    }
    </style>
<script src="site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><script src="site_libs/proj4js-2.3.15/proj4.js"></script><link href="site_libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="site_libs/highcharts-9.3.1/highcharts.js"></script><script src="site_libs/highcharts-9.3.1/highcharts-3d.js"></script><script src="site_libs/highcharts-9.3.1/highcharts-more.js"></script><script src="site_libs/highcharts-9.3.1/modules/stock.js"></script><script src="site_libs/highcharts-9.3.1/modules/map.js"></script><script src="site_libs/highcharts-9.3.1/modules/data.js"></script><script src="site_libs/highcharts-9.3.1/modules/exporting.js"></script><script src="site_libs/highcharts-9.3.1/modules/offline-exporting.js"></script><script src="site_libs/highcharts-9.3.1/modules/drilldown.js"></script><script src="site_libs/highcharts-9.3.1/modules/item-series.js"></script><script src="site_libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script><script src="site_libs/highcharts-9.3.1/modules/annotations.js"></script><script src="site_libs/highcharts-9.3.1/modules/export-data.js"></script><script src="site_libs/highcharts-9.3.1/modules/funnel.js"></script><script src="site_libs/highcharts-9.3.1/modules/heatmap.js"></script><script src="site_libs/highcharts-9.3.1/modules/treemap.js"></script><script src="site_libs/highcharts-9.3.1/modules/sankey.js"></script><script src="site_libs/highcharts-9.3.1/modules/dependency-wheel.js"></script><script src="site_libs/highcharts-9.3.1/modules/organization.js"></script><script src="site_libs/highcharts-9.3.1/modules/solid-gauge.js"></script><script src="site_libs/highcharts-9.3.1/modules/streamgraph.js"></script><script src="site_libs/highcharts-9.3.1/modules/sunburst.js"></script><script src="site_libs/highcharts-9.3.1/modules/vector.js"></script><script src="site_libs/highcharts-9.3.1/modules/wordcloud.js"></script><script src="site_libs/highcharts-9.3.1/modules/xrange.js"></script><script src="site_libs/highcharts-9.3.1/modules/tilemap.js"></script><script src="site_libs/highcharts-9.3.1/modules/venn.js"></script><script src="site_libs/highcharts-9.3.1/modules/gantt.js"></script><script src="site_libs/highcharts-9.3.1/modules/timeline.js"></script><script src="site_libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script><script src="site_libs/highcharts-9.3.1/modules/bullet.js"></script><script src="site_libs/highcharts-9.3.1/modules/coloraxis.js"></script><script src="site_libs/highcharts-9.3.1/modules/dumbbell.js"></script><script src="site_libs/highcharts-9.3.1/modules/lollipop.js"></script><script src="site_libs/highcharts-9.3.1/modules/series-label.js"></script><script src="site_libs/highcharts-9.3.1/plugins/motion.js"></script><script src="site_libs/highcharts-9.3.1/custom/reset.js"></script><script src="site_libs/highcharts-9.3.1/modules/boost.js"></script><script src="site_libs/highchart-binding-0.9.4/highchart.js"></script><link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.25/datatables.js"></script><link href="site_libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script><link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><script src="site_libs/plotly-binding-4.10.0/plotly.js"></script><script src="site_libs/typedarray-0.1/typedarray.min.js"></script><link href="site_libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.5.1/plotly-latest.min.js"></script><link rel="stylesheet" href="my_styles.css">
</head>
<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./netflixx.png" alt="" class="navbar-logo"></a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Plataformas audiovisuales</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item compact">
    <a class="nav-link" href="./index.html"><i class="bi bi-house-door" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link active" href="./my_trabajo_BigData.html" aria-current="page">
 <span class="menu-text">Trabajo en equipo</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./las_slides_estan.html">
 <span class="menu-text">Slides</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/<tu-usuario-github>"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/<tu-usuario-twitter>"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:<tu-mail@alumni.uv.es>"><i class="bi bi-envelope" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
<div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-right">
      <div class="quarto-title-block"><div><h1 class="title">Estudio de las plataformas audiovisuales</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Código</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Mostrar todo el código</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Ocultar todo el código</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">Ver el código fuente</a></li></ul></div></div>
                  <div>
        <div class="description">
          <p>Análisis de datos de las diferentes plataformas online</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Amazon</div>
                <div class="quarto-category">Netflix</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Autores/as</div>
      <div class="quarto-title-meta-contents">
               <p>Carlos García (garpon@alumni.uv.es) </p>
               <p>Vera Monteagudo (vemonse@alumni.uv.es) </p>
               <p>Zayad Youssof (zayous@alumni.uv.es) </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Fecha de publicación</div>
      <div class="quarto-title-meta-contents">
        <p class="date">22 de diciembre de 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">En esta página</h2>
   
  <ul>
<li><a href="#introducci%C3%B3n" id="toc-introducción" class="nav-link active" data-scroll-target="#introducci%C3%B3n">Introducción</a></li>
  <li><a href="#datos-del-trabajo" id="toc-datos-del-trabajo" class="nav-link" data-scroll-target="#datos-del-trabajo">Datos del trabajo</a></li>
  <li>
<a href="#an%C3%A1lisis-de-datos" id="toc-análisis-de-datos" class="nav-link" data-scroll-target="#an%C3%A1lisis-de-datos">Análisis de datos</a>
  <ul class="collapse">
<li><a href="#pel%C3%ADculas" id="toc-películas" class="nav-link" data-scroll-target="#pel%C3%ADculas">Películas</a></li>
  <li><a href="#pel%C3%ADculas-vs-series" id="toc-películas-vs-series" class="nav-link" data-scroll-target="#pel%C3%ADculas-vs-series">Películas vs Series</a></li>
  <li><a href="#pa%C3%ADs-lider-en-producci%C3%B3n" id="toc-país-lider-en-producción" class="nav-link" data-scroll-target="#pa%C3%ADs-lider-en-producci%C3%B3n">País lider en producción</a></li>
  <li><a href="#semanas-en-el-top-10" id="toc-semanas-en-el-top-10" class="nav-link" data-scroll-target="#semanas-en-el-top-10">Semanas en el TOP 10</a></li>
  <li><a href="#las-series-y-sus-temporadas" id="toc-las-series-y-sus-temporadas" class="nav-link" data-scroll-target="#las-series-y-sus-temporadas">Las series y sus temporadas</a></li>
  <li><a href="#g%C3%A9neros" id="toc-géneros" class="nav-link" data-scroll-target="#g%C3%A9neros">Géneros</a></li>
  <li><a href="#g%C3%A9neros-por-a%C3%B1o" id="toc-géneros-por-año" class="nav-link" data-scroll-target="#g%C3%A9neros-por-a%C3%B1o">Géneros por año</a></li>
  </ul>
</li>
  <li>
<a href="#otro-datos-curiosos" id="toc-otro-datos-curiosos" class="nav-link" data-scroll-target="#otro-datos-curiosos">Otro datos curiosos</a>
  <ul class="collapse">
<li><a href="#directores-con-m%C3%A1s-pel%C3%ADculas" id="toc-directores-con-más-películas" class="nav-link" data-scroll-target="#directores-con-m%C3%A1s-pel%C3%ADculas">Directores con más películas</a></li>
  <li><a href="#duraci%C3%B3n-pel%C3%ADculas" id="toc-duración-películas" class="nav-link" data-scroll-target="#duraci%C3%B3n-pel%C3%ADculas">Duración películas</a></li>
  </ul>
</li>
  <li><a href="#conclusiones" id="toc-conclusiones" class="nav-link" data-scroll-target="#conclusiones">Conclusiones</a></li>
  </ul></nav>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-right" id="quarto-document-content"><section id="introducción" class="level1"><h1>Introducción</h1>
<p>En este trabajo vamos a analizar diferentes datos de la plataforma de Netflix. Primero analizaremos cuantas películas y series han sido incorporadas a dicha plataforma y con dichos gráficos también podemos explicar lo que hay detrás con estos gráficos. Seguidamente hablaremos acerca de cuáles son los países de producción. Posteriormente nos centraremos en los géneros y las series.</p>
<hr></section><section id="datos-del-trabajo" class="level1"><h1>Datos del trabajo</h1>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist">
<li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Datos usados</a></li>
<li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Código</a></li>
</ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>Los datos que hemos utilizado para este trabajo provienen de la página Kaggle. Esta pagina es una comunidad online de profesionales y científicos de datos. Pagina recomendable para buscar datos acerca de temas relacionador con R. Por si la queréis usar para el trabajo individual, pincha <a href="https://www.kaggle.com/">aquí</a> Bibliografía: Kaggle y web de la asignatura.</p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-layout-align="center">
<details open=""><summary>Código</summary><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(rio)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(forcats)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span> (ggthemes)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">library</span>(janitor)</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="fu">library</span>(viridis)</span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="fu">library</span>(treemap)</span>
<span id="cb1-19"><a href="#cb1-19"></a></span>
<span id="cb1-20"><a href="#cb1-20"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb1-21"><a href="#cb1-21"></a></span>
<span id="cb1-22"><a href="#cb1-22"></a>plataformas_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/movies.csv"</span>)</span>
<span id="cb1-23"><a href="#cb1-23"></a></span>
<span id="cb1-24"><a href="#cb1-24"></a>netflix_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/netflix.csv"</span>)</span>
<span id="cb1-25"><a href="#cb1-25"></a></span>
<span id="cb1-26"><a href="#cb1-26"></a>all_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/all_weeks.csv"</span>)</span>
<span id="cb1-27"><a href="#cb1-27"></a></span>
<span id="cb1-28"><a href="#cb1-28"></a>amazon_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/amazon_prime_titles.csv"</span>)</span>
<span id="cb1-29"><a href="#cb1-29"></a></span>
<span id="cb1-30"><a href="#cb1-30"></a></span>
<span id="cb1-31"><a href="#cb1-31"></a><span class="co">#dataframes arreglados para cogerlos como base</span></span>
<span id="cb1-32"><a href="#cb1-32"></a></span>
<span id="cb1-33"><a href="#cb1-33"></a>netflix <span class="ot">&lt;-</span>janitor<span class="sc">::</span><span class="fu">clean_names</span>(netflix_1)</span>
<span id="cb1-34"><a href="#cb1-34"></a></span>
<span id="cb1-35"><a href="#cb1-35"></a>plataformas <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(plataformas_1)</span>
<span id="cb1-36"><a href="#cb1-36"></a></span>
<span id="cb1-37"><a href="#cb1-37"></a>all <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(all_1)</span>
<span id="cb1-38"><a href="#cb1-38"></a></span>
<span id="cb1-39"><a href="#cb1-39"></a>amazon <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(amazon_1)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
<hr></section><section id="análisis-de-datos" class="level1"><h1>Análisis de datos</h1>
<section id="películas" class="level2"><h2 class="anchored" data-anchor-id="películas">Películas</h2>
<p>En este grafico podemos observar el número de películas/series que se han ido añadiendo a lo largo de los años, en concreto del año 2000 al 2021. Con este grafico también se puede explicar la historia de esta plataforma a lo largo de los años. En el año 2000, mientras que el alquiler de DVD era su único servicio, Netflix introdujo un sistema de recomendación personalizado basado en 1 a 5 estrellas que los clientes otorgaban al material que alquilaban en su sitio. Se cree que el éxito de la empresa se debe a la mejora continua de este sistema, que cambiará a un sistema de me pulgar arriba/abajo(para indicar si te gusta o no) en 2017, y al uso de otros datos (conocidos como minería de datos) que la plataforma ha obtenido de sus clientes. En 2007, Netflix lanzó su servicio de video a pedido en EE. UU., disponible solo a través de PC; a partir de 2008 se añadieron diversas opciones para acceder al catálogo vía streaming: videoconsolas, Smart TV, tablets, etc.El 25 de febrero de 2007, se envió su DVD número mil millones. Para el año 2009, su catálogo físico ofrecía 100.000 títulos y su base de clientes superaba los 10 millones de suscriptores. En 2011, la empresa se expandió por primera vez fuera de EE. UU. y Canadá, ofreciendo su catálogo vía streaming en América Latina y el Caribe. En 2012 ofreció sus servicios en algunos países europeos y en 2016 proporcionó contenido a todo el mundo, excepto a la región de Crimea, Corea del Norte, China, Irán, Irak y Siria. Como se puede observar en el grafico sobre 2012 empieza a crecer exponencialmente y a ser más conocido internacionalmente. También hay que añadir que en 2020 hay una caída de manera brusca en cuanto al número de películas y series. Esto se debe al COVID-19 y al confinamiento, lo que hacía muy difícil rodar.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-2-1.gif" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="películas-vs-series" class="level2"><h2 class="anchored" data-anchor-id="películas-vs-series">Películas vs Series</h2>
<p>Después de explicar un poco la historia de Netflix y analizar sus altibajos en el anterior gráfico, en este separamos en un mismo grafico el número de películas y el número de series, que como podemos ver el rojo representa TV shows y el azul representa a las películas. Donde se puede observar que predomina la producción de películas. A lo largo de los años esta diferencia se ha ido incrementando hasta 2020, debido al COVID-19, ya que tuvieron que dejar de filmar en pleno rodaje o incluso se llegaron a atrasar.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">

<div id="htmlwidget-d73bc53c2a8909b019c7" style="width:95%;height:480px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-d73bc53c2a8909b019c7">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":null},"yAxis":{"title":{"text":"n"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":true},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"name":"Movie","data":[{"content_type":"Movie","release_date":2000,"n":10,"x":2000,"y":10},{"content_type":"Movie","release_date":2001,"n":19,"x":2001,"y":19},{"content_type":"Movie","release_date":2002,"n":17,"x":2002,"y":17},{"content_type":"Movie","release_date":2003,"n":16,"x":2003,"y":16},{"content_type":"Movie","release_date":2004,"n":31,"x":2004,"y":31},{"content_type":"Movie","release_date":2005,"n":27,"x":2005,"y":27},{"content_type":"Movie","release_date":2006,"n":44,"x":2006,"y":44},{"content_type":"Movie","release_date":2007,"n":36,"x":2007,"y":36},{"content_type":"Movie","release_date":2008,"n":59,"x":2008,"y":59},{"content_type":"Movie","release_date":2009,"n":69,"x":2009,"y":69},{"content_type":"Movie","release_date":2010,"n":69,"x":2010,"y":69},{"content_type":"Movie","release_date":2011,"n":72,"x":2011,"y":72},{"content_type":"Movie","release_date":2012,"n":95,"x":2012,"y":95},{"content_type":"Movie","release_date":2013,"n":101,"x":2013,"y":101},{"content_type":"Movie","release_date":2014,"n":141,"x":2014,"y":141},{"content_type":"Movie","release_date":2015,"n":187,"x":2015,"y":187},{"content_type":"Movie","release_date":2016,"n":345,"x":2016,"y":345},{"content_type":"Movie","release_date":2017,"n":458,"x":2017,"y":458},{"content_type":"Movie","release_date":2018,"n":587,"x":2018,"y":587},{"content_type":"Movie","release_date":2019,"n":575,"x":2019,"y":575},{"content_type":"Movie","release_date":2020,"n":502,"x":2020,"y":502},{"content_type":"Movie","release_date":2021,"n":195,"x":2021,"y":195}],"type":"line"},{"name":"TV Show","data":[{"content_type":"TV Show","release_date":2000,"n":3,"x":2000,"y":3},{"content_type":"TV Show","release_date":2001,"n":3,"x":2001,"y":3},{"content_type":"TV Show","release_date":2002,"n":5,"x":2002,"y":5},{"content_type":"TV Show","release_date":2003,"n":6,"x":2003,"y":6},{"content_type":"TV Show","release_date":2004,"n":5,"x":2004,"y":5},{"content_type":"TV Show","release_date":2005,"n":10,"x":2005,"y":10},{"content_type":"TV Show","release_date":2006,"n":10,"x":2006,"y":10},{"content_type":"TV Show","release_date":2007,"n":9,"x":2007,"y":9},{"content_type":"TV Show","release_date":2008,"n":17,"x":2008,"y":17},{"content_type":"TV Show","release_date":2009,"n":20,"x":2009,"y":20},{"content_type":"TV Show","release_date":2010,"n":20,"x":2010,"y":20},{"content_type":"TV Show","release_date":2011,"n":23,"x":2011,"y":23},{"content_type":"TV Show","release_date":2012,"n":34,"x":2012,"y":34},{"content_type":"TV Show","release_date":2013,"n":30,"x":2013,"y":30},{"content_type":"TV Show","release_date":2014,"n":46,"x":2014,"y":46},{"content_type":"TV Show","release_date":2015,"n":90,"x":2015,"y":90},{"content_type":"TV Show","release_date":2016,"n":146,"x":2016,"y":146},{"content_type":"TV Show","release_date":2017,"n":203,"x":2017,"y":203},{"content_type":"TV Show","release_date":2018,"n":337,"x":2018,"y":337},{"content_type":"TV Show","release_date":2019,"n":396,"x":2019,"y":396},{"content_type":"TV Show","release_date":2020,"n":444,"x":2020,"y":444},{"content_type":"TV Show","release_date":2021,"n":221,"x":2021,"y":221}],"type":"line"}],"xAxis":{"type":"linear","title":{"text":"release_date"},"categories":null}},"theme":{"colors":["#0266C8","#F90101","#F2B50F","#00933B"],"chart":{"style":{"fontFamily":"Roboto","color":"#444444"}},"xAxis":{"gridLineWidth":1,"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"yAxis":{"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"legendBackgroundColor":"rgba(0, 0, 0, 0.5)","background2":"#505053","dataLabelsColor":"#B0B0B3","textColor":"#C0C0C0","contrastTextColor":"#F0F0F3","maskColor":"rgba(255,255,255,0.3)"},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":"Roboto","debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section id="país-lider-en-producción" class="level2"><h2 class="anchored" data-anchor-id="país-lider-en-producción">País lider en producción</h2>
<p>Centrándonos en las películas, en el siguiente grafico podemos distinguir cuantas películas se han producido o rodado en cada país. Hay que tener dos cosas en cuenta en este grafico: La primera es que cuanto más cálido es el cuadrado del país mas películas han sido rodadas en dicho país, si pinchamos encima del cuadrado se puede ver cuantas películas hay por país. La segunda es que la variable de los países la hemos tenido que separar en dos columnas debido a que había filas donde ponían más de un país(por ejemplo: España, Alemania) y no los reconocía como dos países sino que lo consideraba como NA(no existía) ya que no hay un país que se llame España, Alemania.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">

<div id="htmlwidget-b027166ec8cd1185c036" style="width:95%;height:480px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-b027166ec8cd1185c036">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":null},"yAxis":{"title":{"text":[]},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"colorAxis":{"stops":[[0,"#30123B"],[0.111111111111111,"#4662D7"],[0.222222222222222,"#36AAF9"],[0.333333333333333,"#1AE4B6"],[0.444444444444444,"#72FE5E"],[0.555555555555556,"#C7EF34"],[0.666666666666667,"#FABA39"],[0.777777777777778,"#F66B19"],[0.888888888888889,"#CB2A04"],[1,"#7A0403"]]},"series":[{"group":"group","data":[{"pais":"United States","recuento":2001,"value":2001,"colorValue":2001,"name":"United States"},{"pais":"India","recuento":653,"value":653,"colorValue":653,"name":"India"},{"pais":"United Kingdom","recuento":360,"value":360,"colorValue":360,"name":"United Kingdom"},{"pais":"Japan","recuento":231,"value":231,"colorValue":231,"name":"Japan"},{"pais":"South Korea","recuento":177,"value":177,"colorValue":177,"name":"South Korea"},{"pais":"Canada","recuento":164,"value":164,"colorValue":164,"name":"Canada"},{"pais":"France","recuento":161,"value":161,"colorValue":161,"name":"France"},{"pais":"Spain","recuento":158,"value":158,"colorValue":158,"name":"Spain"},{"pais":"Mexico","recuento":102,"value":102,"colorValue":102,"name":"Mexico"},{"pais":"Nigeria","recuento":87,"value":87,"colorValue":87,"name":"Nigeria"},{"pais":"Turkey","recuento":81,"value":81,"colorValue":81,"name":"Turkey"},{"pais":"Taiwan","recuento":78,"value":78,"colorValue":78,"name":"Taiwan"},{"pais":"China","recuento":77,"value":77,"colorValue":77,"name":"China"},{"pais":"Philippines","recuento":75,"value":75,"colorValue":75,"name":"Philippines"},{"pais":"Germany","recuento":74,"value":74,"colorValue":74,"name":"Germany"}],"type":"treemap"}],"xAxis":{"type":"category","title":{"text":"pais"},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<hr></section><section id="semanas-en-el-top-10" class="level2"><h2 class="anchored" data-anchor-id="semanas-en-el-top-10">Semanas en el TOP 10</h2>
<p>Centrándonos ahora un poco más en las series, vamos a analizar cuantas series se han mantenido en el ranking semanal del top 10 en Netflix. Como se puede observar hay una tendencia descendente donde hay muchas series que se mantienen una semana o un par de semanas pero a medida que van aumentando las semanas cada vez hay menos, donde al final dichas series que se mantienen son las mejores o las que más enganchan al público.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="las-series-y-sus-temporadas" class="level2"><h2 class="anchored" data-anchor-id="las-series-y-sus-temporadas">Las series y sus temporadas</h2>
<p>El próximo grafico y tabla representan el total de series agrupadas por el número de temporadas que tienen. Como se puede interpretar en el gráfico, se da una tendencia descendente a medida que aumentan el número de temporadas, esto se debe a que la gente piensa que a partir de las 4-5 temporadas de una serie o incluso tres, una próxima temporada sería hacerla muy larga o densa.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">

<div id="htmlwidget-e6f17d5fd9f1ab2ed26c" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e6f17d5fd9f1ab2ed26c">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],["1 Season","2 Seasons","3 Seasons","4 Seasons","5 Seasons","6 Seasons","7 Seasons","8 Seasons","9 Seasons","10 Seasons","","12 Seasons","13 Seasons","15 Seasons","17 Seasons"],[1374,357,163,83,48,29,15,11,6,4,3,2,2,2,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>duration<\/th>\n      <th>cantidad_series<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<hr></section><section id="géneros" class="level2"><h2 class="anchored" data-anchor-id="géneros">Géneros</h2>
<p>Centrándonos ahora en la temática de las películas, podemos ver cuáles son los géneros más producidos, donde el primero en el ranking es Dramas(1019), seguido de Comedias(819).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">

<div id="htmlwidget-d6cb4e097ef7d1187570" style="width:95%;height:480px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-d6cb4e097ef7d1187570">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":null},"yAxis":{"title":{"text":"recuento"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"generos":"Dramas","recuento":1016,"y":1016,"name":"Dramas"},{"generos":"Comedies","recuento":819,"y":819,"name":"Comedies"},{"generos":"International TV Shows","recuento":615,"y":615,"name":"International TV Shows"},{"generos":"Documentaries","recuento":449,"y":449,"name":"Documentaries"},{"generos":"Children & Family Movies","recuento":363,"y":363,"name":"Children & Family Movies"},{"generos":"Crime TV Shows","recuento":329,"y":329,"name":"Crime TV Shows"},{"generos":"Stand-Up Comedy","recuento":320,"y":320,"name":"Stand-Up Comedy"},{"generos":"Kids' TV","recuento":297,"y":297,"name":"Kids' TV"},{"generos":"Docuseries","recuento":170,"y":170,"name":"Docuseries"},{"generos":"British TV Shows","recuento":166,"y":166,"name":"British TV Shows"},{"generos":"Anime Series","recuento":154,"y":154,"name":"Anime Series"},{"generos":"Horror Movies","recuento":153,"y":153,"name":"Horror Movies"},{"generos":"TV Comedies","recuento":100,"y":100,"name":"TV Comedies"},{"generos":"International Movies","recuento":93,"y":93,"name":"International Movies"},{"generos":"Reality TV","recuento":89,"y":89,"name":"Reality TV"}],"type":"pie"}],"xAxis":{"type":"category","title":{"text":"generos"},"categories":null}},"theme":{"colors":["#FF2700","#008FD5","#77AB43","#636464","#C4C4C4"],"chart":{"backgroundColor":"#F0F0F0","plotBorderColor":"#606063","style":{"fontFamily":"Roboto","color":"#3C3C3C"}},"title":{"align":"left","style":{"fontWeight":"bold"}},"subtitle":{"align":"left"},"xAxis":{"gridLineWidth":1,"gridLineColor":"#D7D7D8","labels":{"style":{"fontFamily":"Unica One, sans-serif","color":"#3C3C3C"}},"lineColor":"#D7D7D8","minorGridLineColor":"#505053","tickColor":"#D7D7D8","tickWidth":1,"title":{"style":{"color":"#A0A0A3"}}},"yAxis":{"gridLineColor":"#D7D7D8","labels":{"style":{"fontFamily":"Unica One, sans-serif","color":"#3C3C3C"}},"lineColor":"#D7D7D8","minorGridLineColor":"#505053","tickColor":"#D7D7D8","tickWidth":1,"title":{"style":{"color":"#A0A0A3"}}},"tooltip":{"backgroundColor":"rgba(0, 0, 0, 0.85)","style":{"color":"#F0F0F0"}},"legend":{"itemStyle":{"color":"#3C3C3C"},"itemHiddenStyle":{"color":"#606063"}},"credits":{"style":{"color":"#666"}},"labels":{"style":{"color":"#D7D7D8"}},"legendBackgroundColor":"rgba(0, 0, 0, 0.5)","background2":"#505053","dataLabelsColor":"#B0B0B3","textColor":"#C0C0C0","contrastTextColor":"#F0F0F3","maskColor":"rgba(255,255,255,0.3)"},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":["Roboto","Unica+One"],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section id="géneros-por-año" class="level2"><h2 class="anchored" data-anchor-id="géneros-por-año">Géneros por año</h2>
<p>Si ahora ya hemos visto cuales son los géneros más producidos, ahora vamos a ver en qué año se produjeron más películas de dichos géneros. El anterior grafico era en total, en este lo hemos dividido por años, donde cada año representa un color, como podemos ver sigue predominando el drama.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="htmlwidget-443123680e092afaf9b4" style="width:95%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-443123680e092afaf9b4">{"x":{"data":[{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[76,32,22,72,86,106,17,23,23,3,3,17,8,31],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14],"text":["temas: Action<br />total_temas_categoria:  76<br />as_factor(release_year): 2017","temas: Animation<br />total_temas_categoria:  32<br />as_factor(release_year): 2017","temas: Arts<br />total_temas_categoria:  22<br />as_factor(release_year): 2017","temas: Comedy<br />total_temas_categoria:  72<br />as_factor(release_year): 2017","temas: Documentary<br />total_temas_categoria:  86<br />as_factor(release_year): 2017","temas: Drama<br />total_temas_categoria: 106<br />as_factor(release_year): 2017","temas: Fitness<br />total_temas_categoria:  17<br />as_factor(release_year): 2017","temas: Horror<br />total_temas_categoria:  23<br />as_factor(release_year): 2017","temas: Kids<br />total_temas_categoria:  23<br />as_factor(release_year): 2017","temas: Romance<br />total_temas_categoria:   3<br />as_factor(release_year): 2017","temas: Science Fiction<br />total_temas_categoria:   3<br />as_factor(release_year): 2017","temas: Special Interest<br />total_temas_categoria:  17<br />as_factor(release_year): 2017","temas: Suspense<br />total_temas_categoria:   8<br />as_factor(release_year): 2017","temas: TV Shows<br />total_temas_categoria:  31<br />as_factor(release_year): 2017"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(215,25,28,1)","line":{"width":null,"color":"transparent"}},"name":"2017","legendgroup":"2017","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[76,32,22,72,86,106,17,23,23,3,3,17,8,31],"x":[98,32,41,70,78,135,15,33,23,4,11,5,5,39],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14],"text":["temas: Action<br />total_temas_categoria:  98<br />as_factor(release_year): 2018","temas: Animation<br />total_temas_categoria:  32<br />as_factor(release_year): 2018","temas: Arts<br />total_temas_categoria:  41<br />as_factor(release_year): 2018","temas: Comedy<br />total_temas_categoria:  70<br />as_factor(release_year): 2018","temas: Documentary<br />total_temas_categoria:  78<br />as_factor(release_year): 2018","temas: Drama<br />total_temas_categoria: 135<br />as_factor(release_year): 2018","temas: Fitness<br />total_temas_categoria:  15<br />as_factor(release_year): 2018","temas: Horror<br />total_temas_categoria:  33<br />as_factor(release_year): 2018","temas: Kids<br />total_temas_categoria:  23<br />as_factor(release_year): 2018","temas: Romance<br />total_temas_categoria:   4<br />as_factor(release_year): 2018","temas: Science Fiction<br />total_temas_categoria:  11<br />as_factor(release_year): 2018","temas: Special Interest<br />total_temas_categoria:   5<br />as_factor(release_year): 2018","temas: Suspense<br />total_temas_categoria:   5<br />as_factor(release_year): 2018","temas: TV Shows<br />total_temas_categoria:  39<br />as_factor(release_year): 2018"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(253,174,97,1)","line":{"width":null,"color":"transparent"}},"name":"2018","legendgroup":"2018","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[174,64,63,142,164,241,32,56,46,7,14,22,13,70],"x":[143,80,43,132,103,161,18,39,106,8,1,9,11,45],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14],"text":["temas: Action<br />total_temas_categoria: 143<br />as_factor(release_year): 2019","temas: Animation<br />total_temas_categoria:  80<br />as_factor(release_year): 2019","temas: Arts<br />total_temas_categoria:  43<br />as_factor(release_year): 2019","temas: Comedy<br />total_temas_categoria: 132<br />as_factor(release_year): 2019","temas: Documentary<br />total_temas_categoria: 103<br />as_factor(release_year): 2019","temas: Drama<br />total_temas_categoria: 161<br />as_factor(release_year): 2019","temas: Fitness<br />total_temas_categoria:  18<br />as_factor(release_year): 2019","temas: Horror<br />total_temas_categoria:  39<br />as_factor(release_year): 2019","temas: Kids<br />total_temas_categoria: 106<br />as_factor(release_year): 2019","temas: Romance<br />total_temas_categoria:   8<br />as_factor(release_year): 2019","temas: Science Fiction<br />total_temas_categoria:   1<br />as_factor(release_year): 2019","temas: Special Interest<br />total_temas_categoria:   9<br />as_factor(release_year): 2019","temas: Suspense<br />total_temas_categoria:  11<br />as_factor(release_year): 2019","temas: TV Shows<br />total_temas_categoria:  45<br />as_factor(release_year): 2019"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,255,191,1)","line":{"width":null,"color":"transparent"}},"name":"2019","legendgroup":"2019","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[317,144,106,274,267,402,50,95,152,15,15,31,24,115],"x":[150,66,41,138,109,212,9,51,61,12,11,19,23,17],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14],"text":["temas: Action<br />total_temas_categoria: 150<br />as_factor(release_year): 2020","temas: Animation<br />total_temas_categoria:  66<br />as_factor(release_year): 2020","temas: Arts<br />total_temas_categoria:  41<br />as_factor(release_year): 2020","temas: Comedy<br />total_temas_categoria: 138<br />as_factor(release_year): 2020","temas: Documentary<br />total_temas_categoria: 109<br />as_factor(release_year): 2020","temas: Drama<br />total_temas_categoria: 212<br />as_factor(release_year): 2020","temas: Fitness<br />total_temas_categoria:   9<br />as_factor(release_year): 2020","temas: Horror<br />total_temas_categoria:  51<br />as_factor(release_year): 2020","temas: Kids<br />total_temas_categoria:  61<br />as_factor(release_year): 2020","temas: Romance<br />total_temas_categoria:  12<br />as_factor(release_year): 2020","temas: Science Fiction<br />total_temas_categoria:  11<br />as_factor(release_year): 2020","temas: Special Interest<br />total_temas_categoria:  19<br />as_factor(release_year): 2020","temas: Suspense<br />total_temas_categoria:  23<br />as_factor(release_year): 2020","temas: TV Shows<br />total_temas_categoria:  17<br />as_factor(release_year): 2020"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(171,221,164,1)","line":{"width":null,"color":"transparent"}},"name":"2020","legendgroup":"2020","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"h","width":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999,0.899999999999999],"base":[467,210,147,412,376,614,59,146,213,27,26,50,47,132],"x":[262,106,37,205,73,373,2,158,41,34,24,8,36,31],"y":[1,2,3,4,5,6,7,8,9,10,11,12,13,14],"text":["temas: Action<br />total_temas_categoria: 262<br />as_factor(release_year): 2021","temas: Animation<br />total_temas_categoria: 106<br />as_factor(release_year): 2021","temas: Arts<br />total_temas_categoria:  37<br />as_factor(release_year): 2021","temas: Comedy<br />total_temas_categoria: 205<br />as_factor(release_year): 2021","temas: Documentary<br />total_temas_categoria:  73<br />as_factor(release_year): 2021","temas: Drama<br />total_temas_categoria: 373<br />as_factor(release_year): 2021","temas: Fitness<br />total_temas_categoria:   2<br />as_factor(release_year): 2021","temas: Horror<br />total_temas_categoria: 158<br />as_factor(release_year): 2021","temas: Kids<br />total_temas_categoria:  41<br />as_factor(release_year): 2021","temas: Romance<br />total_temas_categoria:  34<br />as_factor(release_year): 2021","temas: Science Fiction<br />total_temas_categoria:  24<br />as_factor(release_year): 2021","temas: Special Interest<br />total_temas_categoria:   8<br />as_factor(release_year): 2021","temas: Suspense<br />total_temas_categoria:  36<br />as_factor(release_year): 2021","temas: TV Shows<br />total_temas_categoria:  31<br />as_factor(release_year): 2021"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(43,131,186,1)","line":{"width":null,"color":"transparent"}},"name":"2021","legendgroup":"2021","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":104.474885844749},"plot_bgcolor":"transparent","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-49.35,1036.35],"tickmode":"array","ticktext":["0","250","500","750","1000"],"tickvals":[0,250,500,750,1000],"categoryorder":"array","categoryarray":["0","250","500","750","1000"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"transparent","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Cantidad de películas producidas","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,14.6],"tickmode":"array","ticktext":["Action","Animation","Arts","Comedy","Documentary","Drama","Fitness","Horror","Kids","Romance","Science Fiction","Special Interest","Suspense","TV Shows"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14],"categoryorder":"array","categoryarray":["Action","Animation","Arts","Comedy","Documentary","Drama","Fitness","Horror","Kids","Romance","Science Fiction","Special Interest","Suspense","TV Shows"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"transparent","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":18.5969281859693}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"408811735cb9":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"408811735cb9","visdat":{"408811735cb9":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<hr></section></section><section id="otro-datos-curiosos" class="level1"><h1>Otro datos curiosos</h1>
<section id="directores-con-más-películas" class="level2"><h2 class="anchored" data-anchor-id="directores-con-más-películas">Directores con más películas</h2>
<p>Estos son los directores con más películas producidas en esta plataforma. Hay que añadir que estos datos no son globales sino de Netflix, es decir, los datos son solo de películas que están en esta plataforma. Esto quiere decir que el primero que esta en este ranking no significa que este el primero en el ranking mundial.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</section><section id="duración-películas" class="level2"><h2 class="anchored" data-anchor-id="duración-películas">Duración películas</h2>
<p>Hemos buscado información sobre las películas de Netflix y sobre cual es su media de duración, la media suele estar sobre 105 minutos aproximadamente. Nosotros con los datos que teníamos sobre Netflix obtenidos en Kaggle, hemos realizado un gráfico de dispersión para ver si es cierto que la media se acerca a los 105 minutos, para lograrlo hemos realizado un grafico de dispersión donde cada punto representa cuantas películas hay que duren un determinado número de minutos, por ejemplo, cuantas películas hay que duren 80 minutos. En el grafico nos ha salido una campana de Gauss(distribución normal) y como podemos ver si que puede darse que la media sea de 105 minutos.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="my_trabajo_BigData_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
<hr>
<p><br></p>
</section></section><section id="conclusiones" class="level1"><h1>Conclusiones</h1>
<p>Netflix es una plataforma muy grande donde abarca muchos géneros de películas y series muy diversas, con directores de todo tipo. Cabe añadir que últimamente están apareciendo bastantes plataformas en el mercado</p>
<p>Con esto acabo mi trabajo para BigData!!</p>
<p>FIN</p>
<p><br></p>


<!-- -->

</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Ejecutar el código</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb2" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1"></a><span class="co">---</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="an">title:</span><span class="co">  "Estudio de las plataformas audiovisuales"</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="an">description:</span><span class="co"> |</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">  Análisis de datos de las diferentes plataformas online </span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="an">author:</span><span class="co"> </span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="co">- name: Carlos García (garpon@alumni.uv.es)  #--</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">- name: Vera Monteagudo   (vemonse@alumni.uv.es)                  #--</span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="co">- name:  Zayad Youssof  (zayous@alumni.uv.es)                     #--</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="an">date:</span><span class="co"> 2022-12-22                           #--</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="an">categories:</span><span class="co"> [Amazon, Netflix]   #--</span></span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="an">image:</span><span class="co"> "./imagenes/imagen_01.png"</span></span>
<span id="cb2-12"><a href="#cb2-12"></a><span class="an">title-block-banner:</span><span class="co"> true #- {true, false, "green","#AA0000"}</span></span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="an">title-block-banner-color:</span><span class="co"> "red"    #-"#FFFFFF" </span></span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="an">toc:</span><span class="co"> true</span></span>
<span id="cb2-15"><a href="#cb2-15"></a><span class="an">toc-location:</span><span class="co"> left</span></span>
<span id="cb2-16"><a href="#cb2-16"></a><span class="an">toc-depth:</span><span class="co"> 3</span></span>
<span id="cb2-17"><a href="#cb2-17"></a><span class="an">smooth-scroll:</span><span class="co"> true</span></span>
<span id="cb2-18"><a href="#cb2-18"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb2-19"><a href="#cb2-19"></a><span class="co">  html:</span></span>
<span id="cb2-20"><a href="#cb2-20"></a><span class="co">    #backgroundcolor: "#F1F3F4"</span></span>
<span id="cb2-21"><a href="#cb2-21"></a><span class="co">    #embed-resources: true</span></span>
<span id="cb2-22"><a href="#cb2-22"></a><span class="co">    link-external-newwindow: true</span></span>
<span id="cb2-23"><a href="#cb2-23"></a><span class="co">    #css: ./assets/my_css_file.css   #- CUIDADO!!!!</span></span>
<span id="cb2-24"><a href="#cb2-24"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb2-25"><a href="#cb2-25"></a><span class="an">code-link:</span><span class="co"> true</span></span>
<span id="cb2-26"><a href="#cb2-26"></a><span class="co">---</span></span>
<span id="cb2-27"><a href="#cb2-27"></a></span>
<span id="cb2-28"><a href="#cb2-28"></a></span>
<span id="cb2-29"><a href="#cb2-29"></a><span class="fu"># Introducción </span></span>
<span id="cb2-30"><a href="#cb2-30"></a></span>
<span id="cb2-31"><a href="#cb2-31"></a>En este trabajo vamos a analizar diferentes datos de la plataforma de Netflix. Primero</span>
<span id="cb2-32"><a href="#cb2-32"></a>analizaremos cuantas películas y series han sido incorporadas a dicha plataforma y con dichos</span>
<span id="cb2-33"><a href="#cb2-33"></a>gráficos también podemos explicar lo que hay detrás con estos gráficos. Seguidamente</span>
<span id="cb2-34"><a href="#cb2-34"></a>hablaremos acerca de cuáles son los países de producción. Posteriormente nos centraremos</span>
<span id="cb2-35"><a href="#cb2-35"></a>en los géneros y las series.</span>
<span id="cb2-36"><a href="#cb2-36"></a></span>
<span id="cb2-37"><a href="#cb2-37"></a>---</span>
<span id="cb2-38"><a href="#cb2-38"></a></span>
<span id="cb2-39"><a href="#cb2-39"></a><span class="fu"># Datos del trabajo</span></span>
<span id="cb2-40"><a href="#cb2-40"></a></span>
<span id="cb2-41"><a href="#cb2-41"></a>::: {.panel-tabset}</span>
<span id="cb2-42"><a href="#cb2-42"></a></span>
<span id="cb2-43"><a href="#cb2-43"></a><span class="fu">## Datos usados</span></span>
<span id="cb2-44"><a href="#cb2-44"></a></span>
<span id="cb2-45"><a href="#cb2-45"></a>Los datos que hemos utilizado para este trabajo provienen de la página Kaggle. Esta pagina es</span>
<span id="cb2-46"><a href="#cb2-46"></a>una comunidad online de profesionales y científicos de datos. Pagina recomendable para</span>
<span id="cb2-47"><a href="#cb2-47"></a>buscar datos acerca de temas relacionador con R. Por si la queréis usar para el trabajo</span>
<span id="cb2-48"><a href="#cb2-48"></a>individual, pincha <span class="co">[</span><span class="ot">aquí</span><span class="co">](https://www.kaggle.com/)</span></span>
<span id="cb2-49"><a href="#cb2-49"></a>Bibliografía: Kaggle y web de la asignatura.</span>
<span id="cb2-50"><a href="#cb2-50"></a></span>
<span id="cb2-51"><a href="#cb2-51"></a><span class="fu">## Código</span></span>
<span id="cb2-52"><a href="#cb2-52"></a></span>
<span id="cb2-53"><a href="#cb2-53"></a><span class="in">```{r echo = TRUE}</span></span>
<span id="cb2-54"><a href="#cb2-54"></a></span>
<span id="cb2-55"><a href="#cb2-55"></a><span class="fu">library</span>(rio)</span>
<span id="cb2-56"><a href="#cb2-56"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-57"><a href="#cb2-57"></a><span class="fu">library</span>(forcats)</span>
<span id="cb2-58"><a href="#cb2-58"></a><span class="fu">library</span> (ggthemes)</span>
<span id="cb2-59"><a href="#cb2-59"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-60"><a href="#cb2-60"></a><span class="fu">library</span>(janitor)</span>
<span id="cb2-61"><a href="#cb2-61"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-62"><a href="#cb2-62"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-63"><a href="#cb2-63"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb2-64"><a href="#cb2-64"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-65"><a href="#cb2-65"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb2-66"><a href="#cb2-66"></a><span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb2-67"><a href="#cb2-67"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb2-68"><a href="#cb2-68"></a><span class="fu">library</span>(viridis)</span>
<span id="cb2-69"><a href="#cb2-69"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb2-70"><a href="#cb2-70"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb2-71"><a href="#cb2-71"></a><span class="fu">library</span>(treemap)</span>
<span id="cb2-72"><a href="#cb2-72"></a></span>
<span id="cb2-73"><a href="#cb2-73"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb2-74"><a href="#cb2-74"></a></span>
<span id="cb2-75"><a href="#cb2-75"></a>plataformas_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/movies.csv"</span>)</span>
<span id="cb2-76"><a href="#cb2-76"></a></span>
<span id="cb2-77"><a href="#cb2-77"></a>netflix_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/netflix.csv"</span>)</span>
<span id="cb2-78"><a href="#cb2-78"></a></span>
<span id="cb2-79"><a href="#cb2-79"></a>all_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/all_weeks.csv"</span>)</span>
<span id="cb2-80"><a href="#cb2-80"></a></span>
<span id="cb2-81"><a href="#cb2-81"></a>amazon_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/amazon_prime_titles.csv"</span>)</span>
<span id="cb2-82"><a href="#cb2-82"></a></span>
<span id="cb2-83"><a href="#cb2-83"></a></span>
<span id="cb2-84"><a href="#cb2-84"></a><span class="co">#dataframes arreglados para cogerlos como base</span></span>
<span id="cb2-85"><a href="#cb2-85"></a></span>
<span id="cb2-86"><a href="#cb2-86"></a>netflix <span class="ot">&lt;-</span>janitor<span class="sc">::</span><span class="fu">clean_names</span>(netflix_1)</span>
<span id="cb2-87"><a href="#cb2-87"></a></span>
<span id="cb2-88"><a href="#cb2-88"></a>plataformas <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(plataformas_1)</span>
<span id="cb2-89"><a href="#cb2-89"></a></span>
<span id="cb2-90"><a href="#cb2-90"></a>all <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(all_1)</span>
<span id="cb2-91"><a href="#cb2-91"></a></span>
<span id="cb2-92"><a href="#cb2-92"></a>amazon <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(amazon_1)</span>
<span id="cb2-93"><a href="#cb2-93"></a></span>
<span id="cb2-94"><a href="#cb2-94"></a></span>
<span id="cb2-95"><a href="#cb2-95"></a><span class="in">```</span></span>
<span id="cb2-96"><a href="#cb2-96"></a></span>
<span id="cb2-97"><a href="#cb2-97"></a>:::</span>
<span id="cb2-98"><a href="#cb2-98"></a></span>
<span id="cb2-99"><a href="#cb2-99"></a>---</span>
<span id="cb2-100"><a href="#cb2-100"></a></span>
<span id="cb2-101"><a href="#cb2-101"></a><span class="fu"># Análisis de datos</span></span>
<span id="cb2-102"><a href="#cb2-102"></a></span>
<span id="cb2-103"><a href="#cb2-103"></a><span class="fu">## Películas</span></span>
<span id="cb2-104"><a href="#cb2-104"></a></span>
<span id="cb2-105"><a href="#cb2-105"></a>En este grafico podemos observar el número de películas/series que se han ido añadiendo a lo largo de los años, en concreto del año 2000 al 2021. Con este grafico también se puede explicar la historia de esta plataforma a lo largo de los años. </span>
<span id="cb2-106"><a href="#cb2-106"></a>En el año 2000, mientras que el alquiler de DVD era su único servicio, Netflix introdujo un sistema de recomendación personalizado basado en 1 a 5 estrellas que los clientes otorgaban al material que alquilaban en su sitio.</span>
<span id="cb2-107"><a href="#cb2-107"></a>Se cree que el éxito de la empresa se debe a la mejora continua de este sistema, que cambiará a un sistema de me pulgar arriba/abajo(para indicar si te gusta o no) en 2017, y al uso de otros datos (conocidos como minería de datos) que la plataforma ha obtenido de sus clientes.</span>
<span id="cb2-108"><a href="#cb2-108"></a>En 2007, Netflix lanzó su servicio de video a pedido en EE. UU., disponible solo a través de PC; a partir de 2008 se añadieron diversas opciones para acceder al catálogo vía streaming: videoconsolas, Smart TV, tablets, etc.El 25 de febrero de 2007, se envió su DVD número mil millones. Para el año 2009, su catálogo físico ofrecía 100.000 títulos y su base de clientes superaba los 10 millones de suscriptores. </span>
<span id="cb2-109"><a href="#cb2-109"></a>En 2011, la empresa se expandió por primera vez fuera de EE. UU. y Canadá, ofreciendo su catálogo vía streaming en América Latina y el Caribe. En 2012 ofreció sus servicios en algunos países europeos y en 2016 proporcionó contenido a todo el mundo, excepto a la región de Crimea, Corea del Norte, China, Irán, Irak y Siria. Como se puede observar en el grafico sobre 2012 empieza a crecer exponencialmente y a ser más conocido internacionalmente.</span>
<span id="cb2-110"><a href="#cb2-110"></a>También hay que añadir que en 2020 hay una caída de manera brusca en cuanto al número de películas y series. Esto se debe al COVID-19 y al confinamiento, lo que hacía muy difícil rodar. </span>
<span id="cb2-111"><a href="#cb2-111"></a></span>
<span id="cb2-112"><a href="#cb2-112"></a></span>
<span id="cb2-113"><a href="#cb2-113"></a></span>
<span id="cb2-116"><a href="#cb2-116"></a><span class="in">```{r}</span></span>
<span id="cb2-117"><a href="#cb2-117"></a><span class="co">#| echo: false</span></span>
<span id="cb2-118"><a href="#cb2-118"></a></span>
<span id="cb2-119"><a href="#cb2-119"></a><span class="fu">library</span>(rio)</span>
<span id="cb2-120"><a href="#cb2-120"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-121"><a href="#cb2-121"></a><span class="fu">library</span>(forcats)</span>
<span id="cb2-122"><a href="#cb2-122"></a><span class="fu">library</span> (ggthemes)</span>
<span id="cb2-123"><a href="#cb2-123"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-124"><a href="#cb2-124"></a><span class="fu">library</span>(janitor)</span>
<span id="cb2-125"><a href="#cb2-125"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-126"><a href="#cb2-126"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-127"><a href="#cb2-127"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb2-128"><a href="#cb2-128"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-129"><a href="#cb2-129"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb2-130"><a href="#cb2-130"></a><span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb2-131"><a href="#cb2-131"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb2-132"><a href="#cb2-132"></a><span class="fu">library</span>(viridis)</span>
<span id="cb2-133"><a href="#cb2-133"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb2-134"><a href="#cb2-134"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb2-135"><a href="#cb2-135"></a><span class="fu">library</span>(treemap)</span>
<span id="cb2-136"><a href="#cb2-136"></a></span>
<span id="cb2-137"><a href="#cb2-137"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb2-138"><a href="#cb2-138"></a></span>
<span id="cb2-139"><a href="#cb2-139"></a>plataformas_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/movies.csv"</span>)</span>
<span id="cb2-140"><a href="#cb2-140"></a></span>
<span id="cb2-141"><a href="#cb2-141"></a>netflix_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/netflix.csv"</span>)</span>
<span id="cb2-142"><a href="#cb2-142"></a></span>
<span id="cb2-143"><a href="#cb2-143"></a>all_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/all_weeks.csv"</span>)</span>
<span id="cb2-144"><a href="#cb2-144"></a></span>
<span id="cb2-145"><a href="#cb2-145"></a>amazon_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/amazon_prime_titles.csv"</span>)</span>
<span id="cb2-146"><a href="#cb2-146"></a></span>
<span id="cb2-147"><a href="#cb2-147"></a></span>
<span id="cb2-148"><a href="#cb2-148"></a><span class="co">#dataframes arreglados para cogerlos como base</span></span>
<span id="cb2-149"><a href="#cb2-149"></a></span>
<span id="cb2-150"><a href="#cb2-150"></a>netflix <span class="ot">&lt;-</span>janitor<span class="sc">::</span><span class="fu">clean_names</span>(netflix_1)</span>
<span id="cb2-151"><a href="#cb2-151"></a></span>
<span id="cb2-152"><a href="#cb2-152"></a>plataformas <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(plataformas_1)</span>
<span id="cb2-153"><a href="#cb2-153"></a></span>
<span id="cb2-154"><a href="#cb2-154"></a>all <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(all_1)</span>
<span id="cb2-155"><a href="#cb2-155"></a></span>
<span id="cb2-156"><a href="#cb2-156"></a>amazon <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(amazon_1)</span>
<span id="cb2-157"><a href="#cb2-157"></a></span>
<span id="cb2-158"><a href="#cb2-158"></a><span class="co">#Gráfico 1</span></span>
<span id="cb2-159"><a href="#cb2-159"></a><span class="co">#tabla del gráfico</span></span>
<span id="cb2-160"><a href="#cb2-160"></a></span>
<span id="cb2-161"><a href="#cb2-161"></a>tabla_1 <span class="ot">&lt;-</span> netflix <span class="sc">%&gt;%</span> </span>
<span id="cb2-162"><a href="#cb2-162"></a>  <span class="fu">rename</span>(<span class="at">year =</span> release_date) <span class="sc">%&gt;%</span></span>
<span id="cb2-163"><a href="#cb2-163"></a>  <span class="fu">select</span>(title,year) <span class="sc">%&gt;%</span></span>
<span id="cb2-164"><a href="#cb2-164"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb2-165"><a href="#cb2-165"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(year),year<span class="sc">&gt;=</span><span class="dv">2000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-166"><a href="#cb2-166"></a>  <span class="fu">summarise</span>(<span class="at">recuento =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb2-167"><a href="#cb2-167"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(recuento))</span>
<span id="cb2-168"><a href="#cb2-168"></a></span>
<span id="cb2-169"><a href="#cb2-169"></a><span class="co">#Código del gráfico</span></span>
<span id="cb2-170"><a href="#cb2-170"></a></span>
<span id="cb2-171"><a href="#cb2-171"></a>p1 <span class="ot">&lt;-</span> tabla_1 <span class="sc">%&gt;%</span></span>
<span id="cb2-172"><a href="#cb2-172"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> recuento ))<span class="sc">+</span> </span>
<span id="cb2-173"><a href="#cb2-173"></a>  <span class="fu">geom_line</span>(<span class="at">size=</span><span class="dv">2</span>, <span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb2-174"><a href="#cb2-174"></a>  <span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">4</span>)<span class="sc">+</span></span>
<span id="cb2-175"><a href="#cb2-175"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"NETFLIX"</span>,<span class="at">subtitle=</span><span class="st">"Número de peliculas/series en {frame_along}"</span>,</span>
<span id="cb2-176"><a href="#cb2-176"></a>       <span class="at">x=</span><span class="st">"Fecha"</span>,</span>
<span id="cb2-177"><a href="#cb2-177"></a>       <span class="at">y=</span><span class="st">""</span>)<span class="sc">+</span></span>
<span id="cb2-178"><a href="#cb2-178"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb2-179"><a href="#cb2-179"></a>  <span class="fu">transition_reveal</span>(year)<span class="sc">+</span></span>
<span id="cb2-180"><a href="#cb2-180"></a>  <span class="fu">theme</span>(<span class="at">plot.title=</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">"red"</span>,<span class="at">size=</span><span class="dv">50</span>,<span class="at">hjust =</span> ,<span class="dv">5</span>))</span>
<span id="cb2-181"><a href="#cb2-181"></a></span>
<span id="cb2-182"><a href="#cb2-182"></a>p1 <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="cn">NA</span>),</span>
<span id="cb2-183"><a href="#cb2-183"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="cn">NA</span>), <span class="at">axis.line =</span> <span class="fu">element_line</span>          (<span class="at">linewidth =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">"black"</span>),</span>
<span id="cb2-184"><a href="#cb2-184"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"serif"</span>)) <span class="sc">+</span><span class="fu">labs</span>(<span class="at">y =</span> <span class="cn">NULL</span>)</span>
<span id="cb2-185"><a href="#cb2-185"></a></span>
<span id="cb2-186"><a href="#cb2-186"></a></span>
<span id="cb2-187"><a href="#cb2-187"></a><span class="in">```</span></span>
<span id="cb2-188"><a href="#cb2-188"></a></span>
<span id="cb2-189"><a href="#cb2-189"></a></span>
<span id="cb2-190"><a href="#cb2-190"></a><span class="fu">## Películas vs Series</span></span>
<span id="cb2-191"><a href="#cb2-191"></a></span>
<span id="cb2-192"><a href="#cb2-192"></a>Después de explicar un poco la historia de Netflix y analizar sus altibajos en el anterior gráfico, en este separamos en un mismo grafico el número de películas y el número de series, que como podemos ver el rojo representa TV shows y el azul representa a las películas. Donde se puede observar que predomina la producción de películas. A lo largo de los años esta diferencia se ha ido incrementando hasta 2020, debido al COVID-19, ya que tuvieron que dejar de filmar en pleno rodaje o  incluso se llegaron a atrasar.</span>
<span id="cb2-193"><a href="#cb2-193"></a></span>
<span id="cb2-196"><a href="#cb2-196"></a><span class="in">```{r}</span></span>
<span id="cb2-197"><a href="#cb2-197"></a><span class="co">#| echo: false</span></span>
<span id="cb2-198"><a href="#cb2-198"></a></span>
<span id="cb2-199"><a href="#cb2-199"></a><span class="fu">library</span>(rio)</span>
<span id="cb2-200"><a href="#cb2-200"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-201"><a href="#cb2-201"></a><span class="fu">library</span>(forcats)</span>
<span id="cb2-202"><a href="#cb2-202"></a><span class="fu">library</span> (ggthemes)</span>
<span id="cb2-203"><a href="#cb2-203"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-204"><a href="#cb2-204"></a><span class="fu">library</span>(janitor)</span>
<span id="cb2-205"><a href="#cb2-205"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-206"><a href="#cb2-206"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-207"><a href="#cb2-207"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb2-208"><a href="#cb2-208"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-209"><a href="#cb2-209"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb2-210"><a href="#cb2-210"></a><span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb2-211"><a href="#cb2-211"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb2-212"><a href="#cb2-212"></a><span class="fu">library</span>(viridis)</span>
<span id="cb2-213"><a href="#cb2-213"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb2-214"><a href="#cb2-214"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb2-215"><a href="#cb2-215"></a><span class="fu">library</span>(treemap)</span>
<span id="cb2-216"><a href="#cb2-216"></a></span>
<span id="cb2-217"><a href="#cb2-217"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb2-218"><a href="#cb2-218"></a></span>
<span id="cb2-219"><a href="#cb2-219"></a>plataformas_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/movies.csv"</span>)</span>
<span id="cb2-220"><a href="#cb2-220"></a></span>
<span id="cb2-221"><a href="#cb2-221"></a>netflix_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/netflix.csv"</span>)</span>
<span id="cb2-222"><a href="#cb2-222"></a></span>
<span id="cb2-223"><a href="#cb2-223"></a>all_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/all_weeks.csv"</span>)</span>
<span id="cb2-224"><a href="#cb2-224"></a></span>
<span id="cb2-225"><a href="#cb2-225"></a>amazon_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/amazon_prime_titles.csv"</span>)</span>
<span id="cb2-226"><a href="#cb2-226"></a></span>
<span id="cb2-227"><a href="#cb2-227"></a></span>
<span id="cb2-228"><a href="#cb2-228"></a><span class="co">#dataframes arreglados para cogerlos como base</span></span>
<span id="cb2-229"><a href="#cb2-229"></a></span>
<span id="cb2-230"><a href="#cb2-230"></a>netflix <span class="ot">&lt;-</span>janitor<span class="sc">::</span><span class="fu">clean_names</span>(netflix_1)</span>
<span id="cb2-231"><a href="#cb2-231"></a></span>
<span id="cb2-232"><a href="#cb2-232"></a>plataformas <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(plataformas_1)</span>
<span id="cb2-233"><a href="#cb2-233"></a></span>
<span id="cb2-234"><a href="#cb2-234"></a>all <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(all_1)</span>
<span id="cb2-235"><a href="#cb2-235"></a></span>
<span id="cb2-236"><a href="#cb2-236"></a>amazon <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(amazon_1)</span>
<span id="cb2-237"><a href="#cb2-237"></a></span>
<span id="cb2-238"><a href="#cb2-238"></a><span class="co">#Gráfico 6</span></span>
<span id="cb2-239"><a href="#cb2-239"></a><span class="co">#Hacer tablas</span></span>
<span id="cb2-240"><a href="#cb2-240"></a></span>
<span id="cb2-241"><a href="#cb2-241"></a>tabla_6 <span class="ot">&lt;-</span> netflix <span class="sc">%&gt;%</span></span>
<span id="cb2-242"><a href="#cb2-242"></a>  <span class="fu">filter</span>(release_date<span class="sc">&gt;=</span><span class="dv">2000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-243"><a href="#cb2-243"></a>  <span class="fu">select</span>(content_type, release_date) <span class="sc">%&gt;%</span></span>
<span id="cb2-244"><a href="#cb2-244"></a>  <span class="fu">count</span>(content_type, release_date)</span>
<span id="cb2-245"><a href="#cb2-245"></a></span>
<span id="cb2-246"><a href="#cb2-246"></a><span class="co">#Hacer el grafico</span></span>
<span id="cb2-247"><a href="#cb2-247"></a></span>
<span id="cb2-248"><a href="#cb2-248"></a></span>
<span id="cb2-249"><a href="#cb2-249"></a>p6 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(tabla_6, <span class="fu">aes</span>(release_date, n, <span class="at">color =</span> content_type )) <span class="sc">+</span></span>
<span id="cb2-250"><a href="#cb2-250"></a>  <span class="fu">geom_point</span>() <span class="co">#con geom point no problema pero con geom bar no es lo mismo…</span></span>
<span id="cb2-251"><a href="#cb2-251"></a></span>
<span id="cb2-252"><a href="#cb2-252"></a>p6<span class="ot">&lt;-</span><span class="fu">hchart</span>(tabla_6, <span class="st">"line"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span>release_date, <span class="at">y =</span> n, <span class="at">group =</span> content_type)) <span class="sc">%&gt;%</span> <span class="fu">hc_add_theme</span>(<span class="fu">hc_theme_google</span>())</span>
<span id="cb2-253"><a href="#cb2-253"></a>p6</span>
<span id="cb2-254"><a href="#cb2-254"></a></span>
<span id="cb2-255"><a href="#cb2-255"></a></span>
<span id="cb2-256"><a href="#cb2-256"></a></span>
<span id="cb2-257"><a href="#cb2-257"></a><span class="in">```</span></span>
<span id="cb2-258"><a href="#cb2-258"></a></span>
<span id="cb2-259"><a href="#cb2-259"></a></span>
<span id="cb2-260"><a href="#cb2-260"></a><span class="fu">## País lider en producción</span></span>
<span id="cb2-261"><a href="#cb2-261"></a></span>
<span id="cb2-262"><a href="#cb2-262"></a>Centrándonos en las películas, en el siguiente grafico podemos distinguir cuantas películas se han producido o rodado en cada país. Hay que tener dos cosas en cuenta en este grafico: La primera es que cuanto más cálido es el cuadrado del país mas películas han sido rodadas en dicho país, si pinchamos encima del cuadrado se puede ver cuantas películas hay por país. La segunda es que la variable de los países la hemos tenido que separar en dos columnas debido a que había filas donde ponían más de un país(por ejemplo: España, Alemania) y no los reconocía como dos países sino que lo consideraba como NA(no existía) ya que no hay un país que se llame España, Alemania.</span>
<span id="cb2-263"><a href="#cb2-263"></a></span>
<span id="cb2-266"><a href="#cb2-266"></a><span class="in">```{r}</span></span>
<span id="cb2-267"><a href="#cb2-267"></a><span class="co">#| echo: false</span></span>
<span id="cb2-268"><a href="#cb2-268"></a></span>
<span id="cb2-269"><a href="#cb2-269"></a><span class="fu">library</span>(rio)</span>
<span id="cb2-270"><a href="#cb2-270"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-271"><a href="#cb2-271"></a><span class="fu">library</span>(forcats)</span>
<span id="cb2-272"><a href="#cb2-272"></a><span class="fu">library</span> (ggthemes)</span>
<span id="cb2-273"><a href="#cb2-273"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-274"><a href="#cb2-274"></a><span class="fu">library</span>(janitor)</span>
<span id="cb2-275"><a href="#cb2-275"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-276"><a href="#cb2-276"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-277"><a href="#cb2-277"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb2-278"><a href="#cb2-278"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-279"><a href="#cb2-279"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb2-280"><a href="#cb2-280"></a><span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb2-281"><a href="#cb2-281"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb2-282"><a href="#cb2-282"></a><span class="fu">library</span>(viridis)</span>
<span id="cb2-283"><a href="#cb2-283"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb2-284"><a href="#cb2-284"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb2-285"><a href="#cb2-285"></a><span class="fu">library</span>(treemap)</span>
<span id="cb2-286"><a href="#cb2-286"></a></span>
<span id="cb2-287"><a href="#cb2-287"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb2-288"><a href="#cb2-288"></a></span>
<span id="cb2-289"><a href="#cb2-289"></a>plataformas_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/movies.csv"</span>)</span>
<span id="cb2-290"><a href="#cb2-290"></a></span>
<span id="cb2-291"><a href="#cb2-291"></a>netflix_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/netflix.csv"</span>)</span>
<span id="cb2-292"><a href="#cb2-292"></a></span>
<span id="cb2-293"><a href="#cb2-293"></a>all_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/all_weeks.csv"</span>)</span>
<span id="cb2-294"><a href="#cb2-294"></a></span>
<span id="cb2-295"><a href="#cb2-295"></a>amazon_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/amazon_prime_titles.csv"</span>)</span>
<span id="cb2-296"><a href="#cb2-296"></a></span>
<span id="cb2-297"><a href="#cb2-297"></a></span>
<span id="cb2-298"><a href="#cb2-298"></a><span class="co">#dataframes arreglados para cogerlos como base</span></span>
<span id="cb2-299"><a href="#cb2-299"></a></span>
<span id="cb2-300"><a href="#cb2-300"></a>netflix <span class="ot">&lt;-</span>janitor<span class="sc">::</span><span class="fu">clean_names</span>(netflix_1)</span>
<span id="cb2-301"><a href="#cb2-301"></a></span>
<span id="cb2-302"><a href="#cb2-302"></a>plataformas <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(plataformas_1)</span>
<span id="cb2-303"><a href="#cb2-303"></a></span>
<span id="cb2-304"><a href="#cb2-304"></a>all <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(all_1)</span>
<span id="cb2-305"><a href="#cb2-305"></a></span>
<span id="cb2-306"><a href="#cb2-306"></a>amazon <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(amazon_1)</span>
<span id="cb2-307"><a href="#cb2-307"></a></span>
<span id="cb2-308"><a href="#cb2-308"></a><span class="co">#Gráfico 9</span></span>
<span id="cb2-309"><a href="#cb2-309"></a><span class="co">#Hacer tablas</span></span>
<span id="cb2-310"><a href="#cb2-310"></a>tabla_5 <span class="ot">&lt;-</span> netflix <span class="sc">%&gt;%</span> </span>
<span id="cb2-311"><a href="#cb2-311"></a>  <span class="fu">separate</span>(<span class="at">col=</span>production_country,</span>
<span id="cb2-312"><a href="#cb2-312"></a>            <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"pais"</span>,<span class="st">"sobras"</span>),<span class="at">sep=</span><span class="st">", "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-313"><a href="#cb2-313"></a>  <span class="fu">select</span>(pais,title) <span class="sc">%&gt;%</span></span>
<span id="cb2-314"><a href="#cb2-314"></a>  <span class="fu">group_by</span>(pais) <span class="sc">%&gt;%</span></span>
<span id="cb2-315"><a href="#cb2-315"></a>  <span class="fu">summarize</span>(<span class="at">recuento=</span> <span class="fu">n</span>())</span>
<span id="cb2-316"><a href="#cb2-316"></a></span>
<span id="cb2-317"><a href="#cb2-317"></a></span>
<span id="cb2-318"><a href="#cb2-318"></a>tabla_10<span class="ot">&lt;-</span>tabla_5 <span class="sc">%&gt;%</span></span>
<span id="cb2-319"><a href="#cb2-319"></a>        <span class="fu">slice</span>(<span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">80</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-320"><a href="#cb2-320"></a>        <span class="fu">filter</span>(recuento<span class="sc">&gt;=</span><span class="dv">74</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-321"><a href="#cb2-321"></a>        <span class="fu">arrange</span>(<span class="fu">desc</span>(recuento))</span>
<span id="cb2-322"><a href="#cb2-322"></a></span>
<span id="cb2-323"><a href="#cb2-323"></a><span class="co">#Hacer el gráfico</span></span>
<span id="cb2-324"><a href="#cb2-324"></a></span>
<span id="cb2-325"><a href="#cb2-325"></a>hc1<span class="ot">&lt;-</span><span class="fu">hchart</span>(tabla_10, <span class="st">"treemap"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> pais, <span class="at">value =</span>recuento, <span class="at">color =</span> recuento))<span class="sc">%&gt;%</span></span>
<span id="cb2-326"><a href="#cb2-326"></a>  <span class="fu">hc_colorAxis</span>(<span class="at">stops =</span> <span class="fu">color_stops</span>(<span class="at">colors =</span> viridis<span class="sc">::</span><span class="fu">turbo</span>(<span class="dv">10</span>)))</span>
<span id="cb2-327"><a href="#cb2-327"></a></span>
<span id="cb2-328"><a href="#cb2-328"></a>hc1</span>
<span id="cb2-329"><a href="#cb2-329"></a></span>
<span id="cb2-330"><a href="#cb2-330"></a></span>
<span id="cb2-331"><a href="#cb2-331"></a><span class="in">```</span></span>
<span id="cb2-332"><a href="#cb2-332"></a></span>
<span id="cb2-333"><a href="#cb2-333"></a>---</span>
<span id="cb2-334"><a href="#cb2-334"></a></span>
<span id="cb2-335"><a href="#cb2-335"></a><span class="fu">## Semanas en el TOP 10</span></span>
<span id="cb2-336"><a href="#cb2-336"></a></span>
<span id="cb2-337"><a href="#cb2-337"></a>Centrándonos ahora un poco más en las series, vamos a analizar cuantas series se han mantenido en el ranking semanal del top 10 en Netflix. Como se puede observar hay una tendencia descendente donde hay muchas series que se mantienen una semana o un par de semanas pero a medida que van aumentando las semanas cada vez hay menos, donde al final dichas series que se mantienen son las mejores o las que más enganchan al público.</span>
<span id="cb2-338"><a href="#cb2-338"></a></span>
<span id="cb2-341"><a href="#cb2-341"></a><span class="in">```{r}</span></span>
<span id="cb2-342"><a href="#cb2-342"></a><span class="co">#| echo: false</span></span>
<span id="cb2-343"><a href="#cb2-343"></a></span>
<span id="cb2-344"><a href="#cb2-344"></a><span class="fu">library</span>(rio)</span>
<span id="cb2-345"><a href="#cb2-345"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-346"><a href="#cb2-346"></a><span class="fu">library</span>(forcats)</span>
<span id="cb2-347"><a href="#cb2-347"></a><span class="fu">library</span> (ggthemes)</span>
<span id="cb2-348"><a href="#cb2-348"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-349"><a href="#cb2-349"></a><span class="fu">library</span>(janitor)</span>
<span id="cb2-350"><a href="#cb2-350"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-351"><a href="#cb2-351"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-352"><a href="#cb2-352"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb2-353"><a href="#cb2-353"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-354"><a href="#cb2-354"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb2-355"><a href="#cb2-355"></a><span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb2-356"><a href="#cb2-356"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb2-357"><a href="#cb2-357"></a><span class="fu">library</span>(viridis)</span>
<span id="cb2-358"><a href="#cb2-358"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb2-359"><a href="#cb2-359"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb2-360"><a href="#cb2-360"></a><span class="fu">library</span>(treemap)</span>
<span id="cb2-361"><a href="#cb2-361"></a></span>
<span id="cb2-362"><a href="#cb2-362"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb2-363"><a href="#cb2-363"></a></span>
<span id="cb2-364"><a href="#cb2-364"></a>plataformas_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/movies.csv"</span>)</span>
<span id="cb2-365"><a href="#cb2-365"></a></span>
<span id="cb2-366"><a href="#cb2-366"></a>netflix_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/netflix.csv"</span>)</span>
<span id="cb2-367"><a href="#cb2-367"></a></span>
<span id="cb2-368"><a href="#cb2-368"></a>all_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/all_weeks.csv"</span>)</span>
<span id="cb2-369"><a href="#cb2-369"></a></span>
<span id="cb2-370"><a href="#cb2-370"></a>amazon_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/amazon_prime_titles.csv"</span>)</span>
<span id="cb2-371"><a href="#cb2-371"></a></span>
<span id="cb2-372"><a href="#cb2-372"></a></span>
<span id="cb2-373"><a href="#cb2-373"></a><span class="co">#dataframes arreglados para cogerlos como base</span></span>
<span id="cb2-374"><a href="#cb2-374"></a></span>
<span id="cb2-375"><a href="#cb2-375"></a>netflix <span class="ot">&lt;-</span>janitor<span class="sc">::</span><span class="fu">clean_names</span>(netflix_1)</span>
<span id="cb2-376"><a href="#cb2-376"></a></span>
<span id="cb2-377"><a href="#cb2-377"></a>plataformas <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(plataformas_1)</span>
<span id="cb2-378"><a href="#cb2-378"></a></span>
<span id="cb2-379"><a href="#cb2-379"></a>all <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(all_1)</span>
<span id="cb2-380"><a href="#cb2-380"></a></span>
<span id="cb2-381"><a href="#cb2-381"></a>amazon <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(amazon_1)</span>
<span id="cb2-382"><a href="#cb2-382"></a></span>
<span id="cb2-383"><a href="#cb2-383"></a><span class="co">#Gráfico 8</span></span>
<span id="cb2-384"><a href="#cb2-384"></a><span class="co">#Hacer tablas</span></span>
<span id="cb2-385"><a href="#cb2-385"></a></span>
<span id="cb2-386"><a href="#cb2-386"></a>tabla_8 <span class="ot">&lt;-</span> all <span class="sc">%&gt;%</span></span>
<span id="cb2-387"><a href="#cb2-387"></a>           <span class="fu">select</span>(country_name,show_title,cumulative_weeks_in_top_10)<span class="sc">%&gt;%</span></span>
<span id="cb2-388"><a href="#cb2-388"></a>           <span class="fu">filter</span>(country_name <span class="sc">==</span> <span class="st">"Spain"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb2-389"><a href="#cb2-389"></a>           <span class="fu">group_by</span>(show_title) <span class="sc">%&gt;%</span></span>
<span id="cb2-390"><a href="#cb2-390"></a>           <span class="fu">select</span>(show_title,cumulative_weeks_in_top_10)</span>
<span id="cb2-391"><a href="#cb2-391"></a>           <span class="co">#%&gt;% summarise(Max = max(cumulative_weeks_in_top_10, na.rm = TRUE)) </span></span>
<span id="cb2-392"><a href="#cb2-392"></a></span>
<span id="cb2-393"><a href="#cb2-393"></a>p8 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(tabla_8, <span class="fu">aes</span>(cumulative_weeks_in_top_10)) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="at">binwidth =</span> <span class="fl">0.8</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">fill=</span><span class="st">"black"</span>) <span class="sc">+</span> <span class="fu">xlab</span>(<span class="st">"Cuantas semanas se mantienen en el top 10"</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">"Recuento total de series"</span>)  <span class="sc">+</span> <span class="fu">scale_x_continuous</span>( <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="dv">9</span>, <span class="at">by =</span> <span class="dv">1</span>))</span>
<span id="cb2-394"><a href="#cb2-394"></a></span>
<span id="cb2-395"><a href="#cb2-395"></a></span>
<span id="cb2-396"><a href="#cb2-396"></a>p8 <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">linetype =</span> <span class="st">"solid"</span>),</span>
<span id="cb2-397"><a href="#cb2-397"></a>    <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="cn">NA</span>))</span>
<span id="cb2-398"><a href="#cb2-398"></a></span>
<span id="cb2-399"><a href="#cb2-399"></a></span>
<span id="cb2-400"><a href="#cb2-400"></a></span>
<span id="cb2-401"><a href="#cb2-401"></a></span>
<span id="cb2-402"><a href="#cb2-402"></a><span class="in">```</span></span>
<span id="cb2-403"><a href="#cb2-403"></a></span>
<span id="cb2-404"><a href="#cb2-404"></a></span>
<span id="cb2-405"><a href="#cb2-405"></a><span class="fu">## Las series y sus temporadas</span></span>
<span id="cb2-406"><a href="#cb2-406"></a></span>
<span id="cb2-407"><a href="#cb2-407"></a>El próximo grafico y tabla representan el total de series agrupadas por el número de temporadas que tienen. Como se puede interpretar en el gráfico, se da una tendencia descendente a medida que aumentan el número de temporadas, esto se debe a que la gente piensa que a partir de las 4-5 temporadas de una serie o incluso tres, una próxima temporada sería hacerla muy larga o densa.</span>
<span id="cb2-408"><a href="#cb2-408"></a></span>
<span id="cb2-411"><a href="#cb2-411"></a><span class="in">```{r}</span></span>
<span id="cb2-412"><a href="#cb2-412"></a><span class="co">#| echo: false</span></span>
<span id="cb2-413"><a href="#cb2-413"></a></span>
<span id="cb2-414"><a href="#cb2-414"></a><span class="fu">library</span>(rio)</span>
<span id="cb2-415"><a href="#cb2-415"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-416"><a href="#cb2-416"></a><span class="fu">library</span>(forcats)</span>
<span id="cb2-417"><a href="#cb2-417"></a><span class="fu">library</span> (ggthemes)</span>
<span id="cb2-418"><a href="#cb2-418"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-419"><a href="#cb2-419"></a><span class="fu">library</span>(janitor)</span>
<span id="cb2-420"><a href="#cb2-420"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-421"><a href="#cb2-421"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-422"><a href="#cb2-422"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb2-423"><a href="#cb2-423"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-424"><a href="#cb2-424"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb2-425"><a href="#cb2-425"></a><span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb2-426"><a href="#cb2-426"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb2-427"><a href="#cb2-427"></a><span class="fu">library</span>(viridis)</span>
<span id="cb2-428"><a href="#cb2-428"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb2-429"><a href="#cb2-429"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb2-430"><a href="#cb2-430"></a><span class="fu">library</span>(treemap)</span>
<span id="cb2-431"><a href="#cb2-431"></a></span>
<span id="cb2-432"><a href="#cb2-432"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb2-433"><a href="#cb2-433"></a></span>
<span id="cb2-434"><a href="#cb2-434"></a>plataformas_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/movies.csv"</span>)</span>
<span id="cb2-435"><a href="#cb2-435"></a></span>
<span id="cb2-436"><a href="#cb2-436"></a>netflix_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/netflix.csv"</span>)</span>
<span id="cb2-437"><a href="#cb2-437"></a></span>
<span id="cb2-438"><a href="#cb2-438"></a>all_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/all_weeks.csv"</span>)</span>
<span id="cb2-439"><a href="#cb2-439"></a></span>
<span id="cb2-440"><a href="#cb2-440"></a>amazon_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/amazon_prime_titles.csv"</span>)</span>
<span id="cb2-441"><a href="#cb2-441"></a></span>
<span id="cb2-442"><a href="#cb2-442"></a></span>
<span id="cb2-443"><a href="#cb2-443"></a><span class="co">#dataframes arreglados para cogerlos como base</span></span>
<span id="cb2-444"><a href="#cb2-444"></a></span>
<span id="cb2-445"><a href="#cb2-445"></a>netflix <span class="ot">&lt;-</span>janitor<span class="sc">::</span><span class="fu">clean_names</span>(netflix_1)</span>
<span id="cb2-446"><a href="#cb2-446"></a></span>
<span id="cb2-447"><a href="#cb2-447"></a>plataformas <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(plataformas_1)</span>
<span id="cb2-448"><a href="#cb2-448"></a></span>
<span id="cb2-449"><a href="#cb2-449"></a>all <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(all_1)</span>
<span id="cb2-450"><a href="#cb2-450"></a></span>
<span id="cb2-451"><a href="#cb2-451"></a>amazon <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(amazon_1)</span>
<span id="cb2-452"><a href="#cb2-452"></a></span>
<span id="cb2-453"><a href="#cb2-453"></a><span class="co">#Gráfico 2</span></span>
<span id="cb2-454"><a href="#cb2-454"></a><span class="co">#Hacer tablas</span></span>
<span id="cb2-455"><a href="#cb2-455"></a></span>
<span id="cb2-456"><a href="#cb2-456"></a>tabla_2 <span class="ot">&lt;-</span> netflix <span class="sc">%&gt;%</span> </span>
<span id="cb2-457"><a href="#cb2-457"></a>  <span class="fu">rename</span>( <span class="at">tipo =</span>content_type ) <span class="sc">%&gt;%</span></span>
<span id="cb2-458"><a href="#cb2-458"></a>  <span class="fu">select</span>( tipo, duration) <span class="sc">%&gt;%</span></span>
<span id="cb2-459"><a href="#cb2-459"></a>  <span class="fu">filter</span>( <span class="sc">!</span><span class="fu">is.na</span>(duration), tipo <span class="sc">==</span> <span class="st">"TV Show"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-460"><a href="#cb2-460"></a>  <span class="fu">group_by</span>(duration) <span class="sc">%&gt;%</span></span>
<span id="cb2-461"><a href="#cb2-461"></a>  <span class="fu">summarise</span>(<span class="at">cantidad_series =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-462"><a href="#cb2-462"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(cantidad_series))</span>
<span id="cb2-463"><a href="#cb2-463"></a><span class="co">#Apunte:subset( !(row.names() %in% c("2")))</span></span>
<span id="cb2-464"><a href="#cb2-464"></a></span>
<span id="cb2-465"><a href="#cb2-465"></a><span class="co">#Código del gráfico</span></span>
<span id="cb2-466"><a href="#cb2-466"></a><span class="co">#No sale la season 11 en el eje y</span></span>
<span id="cb2-467"><a href="#cb2-467"></a>tabla2_2 <span class="ot">&lt;-</span> tabla_2 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">duration =</span> <span class="fu">as_factor</span>(duration)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">duration =</span> <span class="fu">fct_reorder</span>(duration,cantidad_series))<span class="sc">%&gt;%</span></span>
<span id="cb2-468"><a href="#cb2-468"></a>  <span class="fu">slice</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,<span class="dv">12</span><span class="sc">:</span><span class="dv">15</span>))</span>
<span id="cb2-469"><a href="#cb2-469"></a></span>
<span id="cb2-470"><a href="#cb2-470"></a>p2 <span class="ot">&lt;-</span> tabla2_2 <span class="sc">%&gt;%</span></span>
<span id="cb2-471"><a href="#cb2-471"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> cantidad_series , <span class="at">y =</span> duration,)) <span class="sc">+</span></span>
<span id="cb2-472"><a href="#cb2-472"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span><span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb2-473"><a href="#cb2-473"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"NETFLIX"</span>,<span class="at">subtitle=</span><span class="st">"¿Cuantas series hay con x temporadas?"</span>)<span class="sc">+</span></span>
<span id="cb2-474"><a href="#cb2-474"></a>  <span class="fu">theme</span>(<span class="at">plot.title=</span> <span class="fu">element_text</span>(<span class="at">color=</span><span class="st">"red"</span>,<span class="at">size=</span><span class="dv">50</span>,<span class="at">hjust =</span> ,<span class="dv">5</span>))</span>
<span id="cb2-475"><a href="#cb2-475"></a>p2<span class="sc">+</span><span class="fu">theme_classic</span>()</span>
<span id="cb2-476"><a href="#cb2-476"></a></span>
<span id="cb2-477"><a href="#cb2-477"></a></span>
<span id="cb2-478"><a href="#cb2-478"></a><span class="in">```</span></span>
<span id="cb2-479"><a href="#cb2-479"></a></span>
<span id="cb2-482"><a href="#cb2-482"></a><span class="in">```{r}</span></span>
<span id="cb2-483"><a href="#cb2-483"></a><span class="co">#| echo: false</span></span>
<span id="cb2-484"><a href="#cb2-484"></a></span>
<span id="cb2-485"><a href="#cb2-485"></a><span class="fu">library</span>(rio)</span>
<span id="cb2-486"><a href="#cb2-486"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-487"><a href="#cb2-487"></a><span class="fu">library</span>(forcats)</span>
<span id="cb2-488"><a href="#cb2-488"></a><span class="fu">library</span> (ggthemes)</span>
<span id="cb2-489"><a href="#cb2-489"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-490"><a href="#cb2-490"></a><span class="fu">library</span>(janitor)</span>
<span id="cb2-491"><a href="#cb2-491"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-492"><a href="#cb2-492"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-493"><a href="#cb2-493"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb2-494"><a href="#cb2-494"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-495"><a href="#cb2-495"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb2-496"><a href="#cb2-496"></a><span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb2-497"><a href="#cb2-497"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb2-498"><a href="#cb2-498"></a><span class="fu">library</span>(viridis)</span>
<span id="cb2-499"><a href="#cb2-499"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb2-500"><a href="#cb2-500"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb2-501"><a href="#cb2-501"></a><span class="fu">library</span>(treemap)</span>
<span id="cb2-502"><a href="#cb2-502"></a></span>
<span id="cb2-503"><a href="#cb2-503"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb2-504"><a href="#cb2-504"></a></span>
<span id="cb2-505"><a href="#cb2-505"></a>plataformas_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/movies.csv"</span>)</span>
<span id="cb2-506"><a href="#cb2-506"></a></span>
<span id="cb2-507"><a href="#cb2-507"></a>netflix_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/netflix.csv"</span>)</span>
<span id="cb2-508"><a href="#cb2-508"></a></span>
<span id="cb2-509"><a href="#cb2-509"></a>all_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/all_weeks.csv"</span>)</span>
<span id="cb2-510"><a href="#cb2-510"></a></span>
<span id="cb2-511"><a href="#cb2-511"></a>amazon_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/amazon_prime_titles.csv"</span>)</span>
<span id="cb2-512"><a href="#cb2-512"></a></span>
<span id="cb2-513"><a href="#cb2-513"></a></span>
<span id="cb2-514"><a href="#cb2-514"></a><span class="co">#dataframes arreglados para cogerlos como base</span></span>
<span id="cb2-515"><a href="#cb2-515"></a></span>
<span id="cb2-516"><a href="#cb2-516"></a>netflix <span class="ot">&lt;-</span>janitor<span class="sc">::</span><span class="fu">clean_names</span>(netflix_1)</span>
<span id="cb2-517"><a href="#cb2-517"></a></span>
<span id="cb2-518"><a href="#cb2-518"></a>plataformas <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(plataformas_1)</span>
<span id="cb2-519"><a href="#cb2-519"></a></span>
<span id="cb2-520"><a href="#cb2-520"></a>all <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(all_1)</span>
<span id="cb2-521"><a href="#cb2-521"></a></span>
<span id="cb2-522"><a href="#cb2-522"></a>amazon <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(amazon_1)</span>
<span id="cb2-523"><a href="#cb2-523"></a></span>
<span id="cb2-524"><a href="#cb2-524"></a><span class="co">#Gráfico 2</span></span>
<span id="cb2-525"><a href="#cb2-525"></a><span class="co">#Hacer tablas</span></span>
<span id="cb2-526"><a href="#cb2-526"></a></span>
<span id="cb2-527"><a href="#cb2-527"></a>tabla_2 <span class="ot">&lt;-</span> netflix <span class="sc">%&gt;%</span> </span>
<span id="cb2-528"><a href="#cb2-528"></a>  <span class="fu">rename</span>( <span class="at">tipo =</span>content_type ) <span class="sc">%&gt;%</span></span>
<span id="cb2-529"><a href="#cb2-529"></a>  <span class="fu">select</span>( tipo, duration) <span class="sc">%&gt;%</span></span>
<span id="cb2-530"><a href="#cb2-530"></a>  <span class="fu">filter</span>( <span class="sc">!</span><span class="fu">is.na</span>(duration), tipo <span class="sc">==</span> <span class="st">"TV Show"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-531"><a href="#cb2-531"></a>  <span class="fu">group_by</span>(duration) <span class="sc">%&gt;%</span></span>
<span id="cb2-532"><a href="#cb2-532"></a>  <span class="fu">summarise</span>(<span class="at">cantidad_series =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-533"><a href="#cb2-533"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(cantidad_series))</span>
<span id="cb2-534"><a href="#cb2-534"></a></span>
<span id="cb2-535"><a href="#cb2-535"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(tabla_2)</span>
<span id="cb2-536"><a href="#cb2-536"></a></span>
<span id="cb2-537"><a href="#cb2-537"></a><span class="in">```</span></span>
<span id="cb2-538"><a href="#cb2-538"></a></span>
<span id="cb2-539"><a href="#cb2-539"></a></span>
<span id="cb2-540"><a href="#cb2-540"></a>---</span>
<span id="cb2-541"><a href="#cb2-541"></a></span>
<span id="cb2-542"><a href="#cb2-542"></a><span class="fu">## Géneros</span></span>
<span id="cb2-543"><a href="#cb2-543"></a></span>
<span id="cb2-544"><a href="#cb2-544"></a>Centrándonos ahora en la temática de las películas, podemos ver cuáles son los géneros más producidos, donde el primero en el ranking es Dramas(1019), seguido de Comedias(819).</span>
<span id="cb2-545"><a href="#cb2-545"></a></span>
<span id="cb2-548"><a href="#cb2-548"></a><span class="in">```{r}</span></span>
<span id="cb2-549"><a href="#cb2-549"></a><span class="co">#| echo: false</span></span>
<span id="cb2-550"><a href="#cb2-550"></a></span>
<span id="cb2-551"><a href="#cb2-551"></a><span class="fu">library</span>(rio)</span>
<span id="cb2-552"><a href="#cb2-552"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-553"><a href="#cb2-553"></a><span class="fu">library</span>(forcats)</span>
<span id="cb2-554"><a href="#cb2-554"></a><span class="fu">library</span> (ggthemes)</span>
<span id="cb2-555"><a href="#cb2-555"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-556"><a href="#cb2-556"></a><span class="fu">library</span>(janitor)</span>
<span id="cb2-557"><a href="#cb2-557"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-558"><a href="#cb2-558"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-559"><a href="#cb2-559"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb2-560"><a href="#cb2-560"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-561"><a href="#cb2-561"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb2-562"><a href="#cb2-562"></a><span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb2-563"><a href="#cb2-563"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb2-564"><a href="#cb2-564"></a><span class="fu">library</span>(viridis)</span>
<span id="cb2-565"><a href="#cb2-565"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb2-566"><a href="#cb2-566"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb2-567"><a href="#cb2-567"></a><span class="fu">library</span>(treemap)</span>
<span id="cb2-568"><a href="#cb2-568"></a></span>
<span id="cb2-569"><a href="#cb2-569"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb2-570"><a href="#cb2-570"></a></span>
<span id="cb2-571"><a href="#cb2-571"></a>plataformas_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/movies.csv"</span>)</span>
<span id="cb2-572"><a href="#cb2-572"></a></span>
<span id="cb2-573"><a href="#cb2-573"></a>netflix_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/netflix.csv"</span>)</span>
<span id="cb2-574"><a href="#cb2-574"></a></span>
<span id="cb2-575"><a href="#cb2-575"></a>all_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/all_weeks.csv"</span>)</span>
<span id="cb2-576"><a href="#cb2-576"></a></span>
<span id="cb2-577"><a href="#cb2-577"></a>amazon_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/amazon_prime_titles.csv"</span>)</span>
<span id="cb2-578"><a href="#cb2-578"></a></span>
<span id="cb2-579"><a href="#cb2-579"></a></span>
<span id="cb2-580"><a href="#cb2-580"></a><span class="co">#dataframes arreglados para cogerlos como base</span></span>
<span id="cb2-581"><a href="#cb2-581"></a></span>
<span id="cb2-582"><a href="#cb2-582"></a>netflix <span class="ot">&lt;-</span>janitor<span class="sc">::</span><span class="fu">clean_names</span>(netflix_1)</span>
<span id="cb2-583"><a href="#cb2-583"></a></span>
<span id="cb2-584"><a href="#cb2-584"></a>plataformas <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(plataformas_1)</span>
<span id="cb2-585"><a href="#cb2-585"></a></span>
<span id="cb2-586"><a href="#cb2-586"></a>all <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(all_1)</span>
<span id="cb2-587"><a href="#cb2-587"></a></span>
<span id="cb2-588"><a href="#cb2-588"></a>amazon <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(amazon_1)</span>
<span id="cb2-589"><a href="#cb2-589"></a></span>
<span id="cb2-590"><a href="#cb2-590"></a><span class="co">#Gráfico 10</span></span>
<span id="cb2-591"><a href="#cb2-591"></a></span>
<span id="cb2-592"><a href="#cb2-592"></a></span>
<span id="cb2-593"><a href="#cb2-593"></a><span class="co">#Arreglar las tablas</span></span>
<span id="cb2-594"><a href="#cb2-594"></a>tabla_11<span class="ot">&lt;-</span>netflix<span class="sc">%&gt;%</span> </span>
<span id="cb2-595"><a href="#cb2-595"></a>         <span class="fu">separate</span>(<span class="at">col=</span>genres, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"generos"</span>,<span class="st">"sobras"</span>), <span class="at">sep =</span> <span class="st">", "</span>)<span class="sc">%&gt;%</span></span>
<span id="cb2-596"><a href="#cb2-596"></a>         <span class="fu">select</span>(title, generos) <span class="sc">%&gt;%</span></span>
<span id="cb2-597"><a href="#cb2-597"></a>         <span class="fu">group_by</span>(generos) <span class="sc">%&gt;%</span></span>
<span id="cb2-598"><a href="#cb2-598"></a>         <span class="fu">summarize</span>(<span class="at">recuento=</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb2-599"><a href="#cb2-599"></a>         <span class="fu">slice</span>(<span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">80</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2-600"><a href="#cb2-600"></a>         <span class="fu">filter</span>(recuento<span class="sc">&gt;=</span><span class="dv">74</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-601"><a href="#cb2-601"></a>         <span class="fu">arrange</span>(<span class="fu">desc</span>(recuento))</span>
<span id="cb2-602"><a href="#cb2-602"></a></span>
<span id="cb2-603"><a href="#cb2-603"></a><span class="co">#hacer el gráfico</span></span>
<span id="cb2-604"><a href="#cb2-604"></a>p11<span class="ot">&lt;-</span><span class="fu">hchart</span>(tabla_11 , <span class="st">"pie"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> generos, <span class="at">y =</span>recuento )) <span class="sc">%&gt;%</span></span>
<span id="cb2-605"><a href="#cb2-605"></a>     <span class="fu">hc_add_theme</span>(<span class="fu">hc_theme_538</span>())</span>
<span id="cb2-606"><a href="#cb2-606"></a>p11</span>
<span id="cb2-607"><a href="#cb2-607"></a></span>
<span id="cb2-608"><a href="#cb2-608"></a><span class="in">```</span></span>
<span id="cb2-609"><a href="#cb2-609"></a></span>
<span id="cb2-610"><a href="#cb2-610"></a><span class="fu">## Géneros  por año</span></span>
<span id="cb2-611"><a href="#cb2-611"></a></span>
<span id="cb2-612"><a href="#cb2-612"></a>Si ahora ya hemos visto cuales son los géneros más producidos, ahora vamos a ver en qué año se produjeron más películas de dichos géneros. El anterior grafico era en total, en este lo hemos dividido por años, donde cada año representa un color, como podemos ver sigue predominando el drama.</span>
<span id="cb2-613"><a href="#cb2-613"></a></span>
<span id="cb2-616"><a href="#cb2-616"></a><span class="in">```{r}</span></span>
<span id="cb2-617"><a href="#cb2-617"></a><span class="co">#| echo: false</span></span>
<span id="cb2-618"><a href="#cb2-618"></a></span>
<span id="cb2-619"><a href="#cb2-619"></a><span class="fu">library</span>(rio)</span>
<span id="cb2-620"><a href="#cb2-620"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-621"><a href="#cb2-621"></a><span class="fu">library</span>(forcats)</span>
<span id="cb2-622"><a href="#cb2-622"></a><span class="fu">library</span> (ggthemes)</span>
<span id="cb2-623"><a href="#cb2-623"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-624"><a href="#cb2-624"></a><span class="fu">library</span>(janitor)</span>
<span id="cb2-625"><a href="#cb2-625"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-626"><a href="#cb2-626"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-627"><a href="#cb2-627"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb2-628"><a href="#cb2-628"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-629"><a href="#cb2-629"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb2-630"><a href="#cb2-630"></a><span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb2-631"><a href="#cb2-631"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb2-632"><a href="#cb2-632"></a><span class="fu">library</span>(viridis)</span>
<span id="cb2-633"><a href="#cb2-633"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb2-634"><a href="#cb2-634"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb2-635"><a href="#cb2-635"></a><span class="fu">library</span>(treemap)</span>
<span id="cb2-636"><a href="#cb2-636"></a></span>
<span id="cb2-637"><a href="#cb2-637"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb2-638"><a href="#cb2-638"></a></span>
<span id="cb2-639"><a href="#cb2-639"></a>plataformas_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/movies.csv"</span>)</span>
<span id="cb2-640"><a href="#cb2-640"></a></span>
<span id="cb2-641"><a href="#cb2-641"></a>netflix_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/netflix.csv"</span>)</span>
<span id="cb2-642"><a href="#cb2-642"></a></span>
<span id="cb2-643"><a href="#cb2-643"></a>all_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/all_weeks.csv"</span>)</span>
<span id="cb2-644"><a href="#cb2-644"></a></span>
<span id="cb2-645"><a href="#cb2-645"></a>amazon_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/amazon_prime_titles.csv"</span>)</span>
<span id="cb2-646"><a href="#cb2-646"></a></span>
<span id="cb2-647"><a href="#cb2-647"></a></span>
<span id="cb2-648"><a href="#cb2-648"></a><span class="co">#dataframes arreglados para cogerlos como base</span></span>
<span id="cb2-649"><a href="#cb2-649"></a></span>
<span id="cb2-650"><a href="#cb2-650"></a>netflix <span class="ot">&lt;-</span>janitor<span class="sc">::</span><span class="fu">clean_names</span>(netflix_1)</span>
<span id="cb2-651"><a href="#cb2-651"></a></span>
<span id="cb2-652"><a href="#cb2-652"></a>plataformas <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(plataformas_1)</span>
<span id="cb2-653"><a href="#cb2-653"></a></span>
<span id="cb2-654"><a href="#cb2-654"></a>all <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(all_1)</span>
<span id="cb2-655"><a href="#cb2-655"></a></span>
<span id="cb2-656"><a href="#cb2-656"></a>amazon <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(amazon_1)</span>
<span id="cb2-657"><a href="#cb2-657"></a></span>
<span id="cb2-658"><a href="#cb2-658"></a><span class="co">#Gráfico 12</span></span>
<span id="cb2-659"><a href="#cb2-659"></a><span class="co">#Hacer tablas</span></span>
<span id="cb2-660"><a href="#cb2-660"></a></span>
<span id="cb2-661"><a href="#cb2-661"></a>tabla_12 <span class="ot">&lt;-</span> amazon <span class="sc">%&gt;%</span></span>
<span id="cb2-662"><a href="#cb2-662"></a>         <span class="fu">separate</span>(<span class="at">col=</span>listed_in,<span class="at">into =</span> <span class="fu">c</span>(<span class="st">"temas"</span>,<span class="st">"otros_rectas"</span>),<span class="at">sep=</span><span class="st">","</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-663"><a href="#cb2-663"></a>         <span class="fu">select</span>(title,temas,release_year) <span class="sc">%&gt;%</span></span>
<span id="cb2-664"><a href="#cb2-664"></a>         <span class="fu">group_by</span>(temas,release_year) <span class="sc">%&gt;%</span> </span>
<span id="cb2-665"><a href="#cb2-665"></a>         <span class="fu">summarise</span>(<span class="at">total_temas_categoria =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb2-666"><a href="#cb2-666"></a>         <span class="fu">filter</span>(release_year <span class="sc">&gt;=</span> <span class="dv">2017</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-667"><a href="#cb2-667"></a>         <span class="fu">filter</span>(<span class="sc">!</span>(temas <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Young Adult Audience"</span>,<span class="st">"Western"</span>,<span class="st">"Unscripted"</span>,<span class="st">"Talk Show and Variety"</span>, <span class="st">"Music Videos and Concerts"</span>,<span class="st">"Military and War"</span>, <span class="st">"LGBTQ"</span>, <span class="st">"Historical"</span>, <span class="st">"Fantasy"</span>, <span class="st">"Faith and Spirituality"</span>,<span class="st">"Anime"</span>,<span class="st">"Adventure"</span>,<span class="st">"Sports"</span>, <span class="st">"International"</span>, <span class="st">"Arthouse"</span> )) )</span>
<span id="cb2-668"><a href="#cb2-668"></a>         </span>
<span id="cb2-669"><a href="#cb2-669"></a><span class="co">#hacer el gráfico</span></span>
<span id="cb2-670"><a href="#cb2-670"></a>p12 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(tabla_12, <span class="fu">aes</span>(temas, total_temas_categoria, <span class="at">fill =</span> <span class="fu">as_factor</span>(release_year))) <span class="sc">+</span></span>
<span id="cb2-671"><a href="#cb2-671"></a><span class="fu">geom_col</span>(<span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">reverse =</span> <span class="cn">TRUE</span>)) <span class="sc">+</span></span>
<span id="cb2-672"><a href="#cb2-672"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb2-673"><a href="#cb2-673"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Spectral"</span>) <span class="sc">+</span> </span>
<span id="cb2-674"><a href="#cb2-674"></a>  </span>
<span id="cb2-675"><a href="#cb2-675"></a>  </span>
<span id="cb2-676"><a href="#cb2-676"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="cn">NA</span>),</span>
<span id="cb2-677"><a href="#cb2-677"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="cn">NA</span>),</span>
<span id="cb2-678"><a href="#cb2-678"></a>        <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb2-679"><a href="#cb2-679"></a>        <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>,</span>
<span id="cb2-680"><a href="#cb2-680"></a>                                    <span class="at">face =</span> <span class="st">"bold"</span>), <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="cn">NA</span>),</span>
<span id="cb2-681"><a href="#cb2-681"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="cn">NA</span>),</span>
<span id="cb2-682"><a href="#cb2-682"></a>        <span class="at">legend.position =</span> <span class="st">"bottom"</span>, <span class="at">legend.direction =</span> <span class="st">"horizontal"</span>) <span class="sc">+</span></span>
<span id="cb2-683"><a href="#cb2-683"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb2-684"><a href="#cb2-684"></a>       <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="st">"Cantidad de películas producidas"</span>,</span>
<span id="cb2-685"><a href="#cb2-685"></a>       <span class="at">fill =</span> <span class="cn">NULL</span>, <span class="at">subtitle =</span> <span class="cn">NULL</span>) <span class="sc">+</span> </span>
<span id="cb2-686"><a href="#cb2-686"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"left"</span>, <span class="at">legend.direction =</span> <span class="st">"vertical"</span>) <span class="sc">+</span></span>
<span id="cb2-687"><a href="#cb2-687"></a>  <span class="fu">labs</span>(<span class="at">caption =</span> <span class="st">"Fuente: Elaboracion propia con datos del INE"</span>)</span>
<span id="cb2-688"><a href="#cb2-688"></a></span>
<span id="cb2-689"><a href="#cb2-689"></a>p12 <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(p12)</span>
<span id="cb2-690"><a href="#cb2-690"></a></span>
<span id="cb2-691"><a href="#cb2-691"></a>p12</span>
<span id="cb2-692"><a href="#cb2-692"></a></span>
<span id="cb2-693"><a href="#cb2-693"></a></span>
<span id="cb2-694"><a href="#cb2-694"></a><span class="in">```</span></span>
<span id="cb2-695"><a href="#cb2-695"></a></span>
<span id="cb2-696"><a href="#cb2-696"></a>---</span>
<span id="cb2-697"><a href="#cb2-697"></a></span>
<span id="cb2-698"><a href="#cb2-698"></a><span class="fu"># Otro datos curiosos</span></span>
<span id="cb2-699"><a href="#cb2-699"></a></span>
<span id="cb2-700"><a href="#cb2-700"></a><span class="fu">## Directores con más películas</span></span>
<span id="cb2-701"><a href="#cb2-701"></a></span>
<span id="cb2-702"><a href="#cb2-702"></a>Estos son los directores con más películas producidas en esta plataforma. Hay que añadir que estos datos no son globales sino de Netflix, es decir, los datos son solo de películas que están en esta plataforma. Esto quiere decir que el primero que esta en este ranking no significa que este el primero en el ranking mundial.</span>
<span id="cb2-703"><a href="#cb2-703"></a></span>
<span id="cb2-706"><a href="#cb2-706"></a><span class="in">```{r}</span></span>
<span id="cb2-707"><a href="#cb2-707"></a><span class="co">#| echo: false</span></span>
<span id="cb2-708"><a href="#cb2-708"></a></span>
<span id="cb2-709"><a href="#cb2-709"></a><span class="fu">library</span>(rio)</span>
<span id="cb2-710"><a href="#cb2-710"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-711"><a href="#cb2-711"></a><span class="fu">library</span>(forcats)</span>
<span id="cb2-712"><a href="#cb2-712"></a><span class="fu">library</span> (ggthemes)</span>
<span id="cb2-713"><a href="#cb2-713"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-714"><a href="#cb2-714"></a><span class="fu">library</span>(janitor)</span>
<span id="cb2-715"><a href="#cb2-715"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-716"><a href="#cb2-716"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-717"><a href="#cb2-717"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb2-718"><a href="#cb2-718"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-719"><a href="#cb2-719"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb2-720"><a href="#cb2-720"></a><span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb2-721"><a href="#cb2-721"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb2-722"><a href="#cb2-722"></a><span class="fu">library</span>(viridis)</span>
<span id="cb2-723"><a href="#cb2-723"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb2-724"><a href="#cb2-724"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb2-725"><a href="#cb2-725"></a><span class="fu">library</span>(treemap)</span>
<span id="cb2-726"><a href="#cb2-726"></a></span>
<span id="cb2-727"><a href="#cb2-727"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb2-728"><a href="#cb2-728"></a></span>
<span id="cb2-729"><a href="#cb2-729"></a>plataformas_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/movies.csv"</span>)</span>
<span id="cb2-730"><a href="#cb2-730"></a></span>
<span id="cb2-731"><a href="#cb2-731"></a>netflix_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/netflix.csv"</span>)</span>
<span id="cb2-732"><a href="#cb2-732"></a></span>
<span id="cb2-733"><a href="#cb2-733"></a>all_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/all_weeks.csv"</span>)</span>
<span id="cb2-734"><a href="#cb2-734"></a></span>
<span id="cb2-735"><a href="#cb2-735"></a>amazon_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/amazon_prime_titles.csv"</span>)</span>
<span id="cb2-736"><a href="#cb2-736"></a></span>
<span id="cb2-737"><a href="#cb2-737"></a></span>
<span id="cb2-738"><a href="#cb2-738"></a><span class="co">#dataframes arreglados para cogerlos como base</span></span>
<span id="cb2-739"><a href="#cb2-739"></a></span>
<span id="cb2-740"><a href="#cb2-740"></a>netflix <span class="ot">&lt;-</span>janitor<span class="sc">::</span><span class="fu">clean_names</span>(netflix_1)</span>
<span id="cb2-741"><a href="#cb2-741"></a></span>
<span id="cb2-742"><a href="#cb2-742"></a>plataformas <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(plataformas_1)</span>
<span id="cb2-743"><a href="#cb2-743"></a></span>
<span id="cb2-744"><a href="#cb2-744"></a>all <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(all_1)</span>
<span id="cb2-745"><a href="#cb2-745"></a></span>
<span id="cb2-746"><a href="#cb2-746"></a>amazon <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(amazon_1)</span>
<span id="cb2-747"><a href="#cb2-747"></a></span>
<span id="cb2-748"><a href="#cb2-748"></a><span class="co">#Gráfico 3</span></span>
<span id="cb2-749"><a href="#cb2-749"></a><span class="co">#Hacer tablas</span></span>
<span id="cb2-750"><a href="#cb2-750"></a></span>
<span id="cb2-751"><a href="#cb2-751"></a>tabla_3 <span class="ot">&lt;-</span> netflix <span class="sc">%&gt;%</span></span>
<span id="cb2-752"><a href="#cb2-752"></a>  <span class="fu">select</span>(director,title) <span class="sc">%&gt;%</span></span>
<span id="cb2-753"><a href="#cb2-753"></a>  <span class="fu">group_by</span>(director) <span class="sc">%&gt;%</span></span>
<span id="cb2-754"><a href="#cb2-754"></a>  <span class="fu">summarize</span>(<span class="at">recuento=</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb2-755"><a href="#cb2-755"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(recuento),recuento<span class="sc">&gt;</span><span class="dv">7</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-756"><a href="#cb2-756"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(recuento)) <span class="sc">%&gt;%</span></span>
<span id="cb2-757"><a href="#cb2-757"></a>  <span class="fu">slice</span>(<span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">13</span>))</span>
<span id="cb2-758"><a href="#cb2-758"></a></span>
<span id="cb2-759"><a href="#cb2-759"></a><span class="co">#Hacer el gráfico</span></span>
<span id="cb2-760"><a href="#cb2-760"></a></span>
<span id="cb2-761"><a href="#cb2-761"></a>tabla3_3 <span class="ot">&lt;-</span> tabla_3 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">director =</span> <span class="fu">as_factor</span>(director)) <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">director =</span> <span class="fu">fct_reorder</span>(director,recuento))</span>
<span id="cb2-762"><a href="#cb2-762"></a></span>
<span id="cb2-763"><a href="#cb2-763"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(tabla3_3, <span class="fu">aes</span>(director,recuento,<span class="fu">fct_rev</span>(recuento)))<span class="sc">+</span><span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>) <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"red"</span> , <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb2-764"><a href="#cb2-764"></a></span>
<span id="cb2-765"><a href="#cb2-765"></a>p3 <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.line =</span> <span class="fu">element_line</span>(<span class="at">colour =</span> <span class="st">"cadetblue"</span>,<span class="at">linetype =</span> <span class="st">"longdash"</span>), <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="cn">NA</span>), <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>,<span class="at">angle =</span> <span class="dv">35</span>)) <span class="sc">+</span><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"DIRECTORES CON MÁS PELÍCULAS PRODUCIDAS"</span>,</span>
<span id="cb2-766"><a href="#cb2-766"></a>    <span class="at">x =</span> <span class="st">"Directores"</span>, <span class="at">y =</span> <span class="st">"Nº Películas"</span>)</span>
<span id="cb2-767"><a href="#cb2-767"></a></span>
<span id="cb2-768"><a href="#cb2-768"></a></span>
<span id="cb2-769"><a href="#cb2-769"></a><span class="in">```</span></span>
<span id="cb2-770"><a href="#cb2-770"></a></span>
<span id="cb2-771"><a href="#cb2-771"></a><span class="fu">## Duración películas</span></span>
<span id="cb2-772"><a href="#cb2-772"></a></span>
<span id="cb2-773"><a href="#cb2-773"></a>Hemos buscado información sobre las películas de Netflix y sobre cual es su media de duración, la media suele estar sobre 105 minutos aproximadamente.</span>
<span id="cb2-774"><a href="#cb2-774"></a>Nosotros con los datos que teníamos sobre Netflix obtenidos en Kaggle, hemos realizado un gráfico de dispersión para ver si es cierto que la media se acerca a los 105 minutos, para lograrlo hemos realizado un grafico de dispersión donde cada punto representa cuantas películas hay que duren un determinado número de minutos, por ejemplo, cuantas películas hay que duren 80 minutos. En el grafico nos ha salido una campana de Gauss(distribución normal) y como podemos ver si que puede darse que la media sea de 105 minutos.</span>
<span id="cb2-775"><a href="#cb2-775"></a></span>
<span id="cb2-776"><a href="#cb2-776"></a></span>
<span id="cb2-779"><a href="#cb2-779"></a><span class="in">```{r}</span></span>
<span id="cb2-780"><a href="#cb2-780"></a><span class="co">#| echo: false</span></span>
<span id="cb2-781"><a href="#cb2-781"></a></span>
<span id="cb2-782"><a href="#cb2-782"></a><span class="fu">library</span>(rio)</span>
<span id="cb2-783"><a href="#cb2-783"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-784"><a href="#cb2-784"></a><span class="fu">library</span>(forcats)</span>
<span id="cb2-785"><a href="#cb2-785"></a><span class="fu">library</span> (ggthemes)</span>
<span id="cb2-786"><a href="#cb2-786"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-787"><a href="#cb2-787"></a><span class="fu">library</span>(janitor)</span>
<span id="cb2-788"><a href="#cb2-788"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-789"><a href="#cb2-789"></a><span class="fu">library</span>(plotly)</span>
<span id="cb2-790"><a href="#cb2-790"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb2-791"><a href="#cb2-791"></a><span class="fu">library</span>(ggThemeAssist)</span>
<span id="cb2-792"><a href="#cb2-792"></a><span class="fu">library</span>(rnaturalearth)</span>
<span id="cb2-793"><a href="#cb2-793"></a><span class="fu">library</span>(rnaturalearthdata)</span>
<span id="cb2-794"><a href="#cb2-794"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb2-795"><a href="#cb2-795"></a><span class="fu">library</span>(viridis)</span>
<span id="cb2-796"><a href="#cb2-796"></a><span class="fu">library</span>(highcharter)</span>
<span id="cb2-797"><a href="#cb2-797"></a><span class="fu">library</span>(treemapify)</span>
<span id="cb2-798"><a href="#cb2-798"></a><span class="fu">library</span>(treemap)</span>
<span id="cb2-799"><a href="#cb2-799"></a></span>
<span id="cb2-800"><a href="#cb2-800"></a>fs<span class="sc">::</span><span class="fu">dir_create</span>(<span class="st">"datos"</span>)</span>
<span id="cb2-801"><a href="#cb2-801"></a></span>
<span id="cb2-802"><a href="#cb2-802"></a>plataformas_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/movies.csv"</span>)</span>
<span id="cb2-803"><a href="#cb2-803"></a></span>
<span id="cb2-804"><a href="#cb2-804"></a>netflix_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/netflix.csv"</span>)</span>
<span id="cb2-805"><a href="#cb2-805"></a></span>
<span id="cb2-806"><a href="#cb2-806"></a>all_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/all_weeks.csv"</span>)</span>
<span id="cb2-807"><a href="#cb2-807"></a></span>
<span id="cb2-808"><a href="#cb2-808"></a>amazon_1 <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"./datos/amazon_prime_titles.csv"</span>)</span>
<span id="cb2-809"><a href="#cb2-809"></a></span>
<span id="cb2-810"><a href="#cb2-810"></a></span>
<span id="cb2-811"><a href="#cb2-811"></a><span class="co">#dataframes arreglados para cogerlos como base</span></span>
<span id="cb2-812"><a href="#cb2-812"></a></span>
<span id="cb2-813"><a href="#cb2-813"></a>netflix <span class="ot">&lt;-</span>janitor<span class="sc">::</span><span class="fu">clean_names</span>(netflix_1)</span>
<span id="cb2-814"><a href="#cb2-814"></a></span>
<span id="cb2-815"><a href="#cb2-815"></a>plataformas <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(plataformas_1)</span>
<span id="cb2-816"><a href="#cb2-816"></a></span>
<span id="cb2-817"><a href="#cb2-817"></a>all <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(all_1)</span>
<span id="cb2-818"><a href="#cb2-818"></a></span>
<span id="cb2-819"><a href="#cb2-819"></a>amazon <span class="ot">&lt;-</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>(amazon_1)</span>
<span id="cb2-820"><a href="#cb2-820"></a></span>
<span id="cb2-821"><a href="#cb2-821"></a><span class="co">#Gráfico 4</span></span>
<span id="cb2-822"><a href="#cb2-822"></a><span class="co">#Hacer tablas</span></span>
<span id="cb2-823"><a href="#cb2-823"></a></span>
<span id="cb2-824"><a href="#cb2-824"></a>tabla_4 <span class="ot">&lt;-</span> netflix <span class="sc">%&gt;%</span></span>
<span id="cb2-825"><a href="#cb2-825"></a>  <span class="fu">separate</span>(<span class="at">col=</span>duration,<span class="at">into =</span> <span class="fu">c</span>(<span class="st">"duracion"</span>,<span class="st">"min_o_temporadas"</span>),<span class="at">sep=</span><span class="st">" "</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-826"><a href="#cb2-826"></a>  <span class="fu">select</span>(duracion,title,content_type,min_o_temporadas)<span class="sc">%&gt;%</span></span>
<span id="cb2-827"><a href="#cb2-827"></a>  <span class="fu">group_by</span>(duracion,min_o_temporadas) <span class="sc">%&gt;%</span></span>
<span id="cb2-828"><a href="#cb2-828"></a>  <span class="fu">summarize</span>(<span class="at">recuento=</span> <span class="fu">n</span>())<span class="sc">%&gt;%</span></span>
<span id="cb2-829"><a href="#cb2-829"></a>  <span class="fu">filter</span>(min_o_temporadas<span class="sc">!=</span><span class="st">"Season"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb2-830"><a href="#cb2-830"></a>  <span class="fu">filter</span>(min_o_temporadas<span class="sc">!=</span><span class="st">"Seasons"</span>)<span class="sc">%&gt;%</span></span>
<span id="cb2-831"><a href="#cb2-831"></a>  <span class="fu">mutate</span>(<span class="at">duracion =</span> <span class="fu">as.numeric</span>(duracion))<span class="sc">%&gt;%</span> </span>
<span id="cb2-832"><a href="#cb2-832"></a>  <span class="fu">filter</span>(duracion<span class="sc">&gt;=</span><span class="dv">50</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb2-833"><a href="#cb2-833"></a>  <span class="fu">filter</span>(duracion<span class="sc">&lt;=</span><span class="dv">190</span>)</span>
<span id="cb2-834"><a href="#cb2-834"></a></span>
<span id="cb2-835"><a href="#cb2-835"></a></span>
<span id="cb2-836"><a href="#cb2-836"></a><span class="co">#Hacer el gráfico</span></span>
<span id="cb2-837"><a href="#cb2-837"></a></span>
<span id="cb2-838"><a href="#cb2-838"></a>p4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(tabla_4, <span class="fu">aes</span>(duracion,recuento)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">"red"</span>)<span class="sc">+</span><span class="fu">labs</span>()<span class="sc">+</span></span>
<span id="cb2-839"><a href="#cb2-839"></a>  <span class="fu">annotate</span>(<span class="st">"rect"</span>, <span class="at">xmin =</span> <span class="dv">80</span>, <span class="at">xmax =</span><span class="dv">120</span>,<span class="at">ymin =</span> <span class="sc">-</span><span class="cn">Inf</span>, <span class="at">ymax =</span> <span class="cn">Inf</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>, <span class="at">fill =</span> <span class="st">"orange"</span>)<span class="sc">+</span></span>
<span id="cb2-840"><a href="#cb2-840"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">160</span>, <span class="at">y =</span> <span class="dv">80</span>, <span class="at">label =</span> <span class="st">"Media=105"</span>, <span class="at">size =</span> <span class="dv">4</span>,<span class="at">color=</span><span class="st">"orange"</span>)<span class="sc">+</span></span>
<span id="cb2-841"><a href="#cb2-841"></a>  <span class="fu">annotate</span>(<span class="st">"segment"</span>, <span class="at">x =</span> <span class="dv">100</span>, <span class="at">xend =</span> <span class="dv">100</span>, <span class="at">y =</span> <span class="dv">100</span>, <span class="at">yend =</span> <span class="sc">-</span><span class="dv">20</span>, <span class="at">colour =</span> <span class="st">"blue"</span>)<span class="sc">+</span></span>
<span id="cb2-842"><a href="#cb2-842"></a>  <span class="fu">labs</span>(<span class="at">title =</span>  <span class="st">"Duración media por pelicula"</span>)</span>
<span id="cb2-843"><a href="#cb2-843"></a>p4 <span class="sc">+</span> <span class="fu">theme_classic</span>()<span class="sc">+</span><span class="fu">geom_smooth</span>()</span>
<span id="cb2-844"><a href="#cb2-844"></a></span>
<span id="cb2-845"><a href="#cb2-845"></a></span>
<span id="cb2-846"><a href="#cb2-846"></a><span class="in">```</span></span>
<span id="cb2-847"><a href="#cb2-847"></a></span>
<span id="cb2-848"><a href="#cb2-848"></a>---</span>
<span id="cb2-849"><a href="#cb2-849"></a></span>
<span id="cb2-850"><a href="#cb2-850"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb2-851"><a href="#cb2-851"></a></span>
<span id="cb2-852"><a href="#cb2-852"></a><span class="fu"># Conclusiones</span></span>
<span id="cb2-853"><a href="#cb2-853"></a></span>
<span id="cb2-854"><a href="#cb2-854"></a>Netflix es una plataforma muy grande donde abarca muchos géneros de</span>
<span id="cb2-855"><a href="#cb2-855"></a>películas y series muy diversas, con directores de todo tipo. Cabe</span>
<span id="cb2-856"><a href="#cb2-856"></a>añadir que últimamente están apareciendo bastantes plataformas en el</span>
<span id="cb2-857"><a href="#cb2-857"></a>mercado</span>
<span id="cb2-858"><a href="#cb2-858"></a></span>
<span id="cb2-859"><a href="#cb2-859"></a>Con esto acabo mi trabajo para BigData!!</span>
<span id="cb2-860"><a href="#cb2-860"></a></span>
<span id="cb2-861"><a href="#cb2-861"></a>FIN</span>
<span id="cb2-862"><a href="#cb2-862"></a></span>
<span id="cb2-863"><a href="#cb2-863"></a><span class="kw">&lt;br&gt;</span></span>
</code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">© 2022 Carlos y Vera</div>   
      <div class="nav-footer-center">Hecho con <a href="https://quarto.org">Quarto</a></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/<tu-usuario-github>">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/<tu-usuario-twitter>">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:<tu-mail>@alumni.uv.es">
      <i class="bi bi-envelope" role="img">
</i> 
    </a>
  </li>  
</ul>
</div>
  </div>
</footer>


<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>